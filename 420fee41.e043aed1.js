(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{151:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return c})),a.d(t,"metadata",(function(){return o})),a.d(t,"rightToc",(function(){return p})),a.d(t,"default",(function(){return s}));var b=a(1),n=a(9),r=(a(191),a(190)),c={id:"diyalog-webhook-api",title:"Diyalog-Integration-With-Domain",sidebar_label:"Diyalog-Integration-With-Domain"},o={id:"diyalog-webhook-api/diyalog-webhook-api",title:"Diyalog-Integration-With-Domain",description:"###APIs that should be implemented on Enterprise Applications",source:"@site/../docs/diyalog-webhook-api/diyalog-webhook-api.md",permalink:"/docs/diyalog-webhook-api/diyalog-webhook-api",sidebar_label:"Diyalog-Integration-With-Domain"},p=[],l={rightToc:p};function s(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(r.b)("wrapper",Object(b.a)({},l,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"###APIs that should be implemented on Enterprise Applications"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"/checkauthtoken")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"This rest api will check Diyalog Server's token of user. "),Object(r.b)("p",{parentName:"blockquote"},"#####BaseUrl"),Object(r.b)("pre",{parentName:"blockquote"},Object(r.b)("code",Object(b.a)({parentName:"pre"},{}),"`https://domain.token.validation.server/v1/`\n")),Object(r.b)("p",{parentName:"blockquote"},Object(r.b)("strong",{parentName:"p"},"/checkauthtoken parameters and JSON fields")),Object(r.b)("p",{parentName:"blockquote"},"The following parameters are send to enterprise token server in JSON format by POST method by Diyalog server. "),Object(r.b)("table",{parentName:"blockquote"},Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(b.a)({parentName:"tr"},{align:"left"}),"Name"),Object(r.b)("th",Object(b.a)({parentName:"tr"},{align:"left"}),"Type"),Object(r.b)("th",Object(b.a)({parentName:"tr"},{align:"left"}),"Description"),Object(r.b)("th",Object(b.a)({parentName:"tr"},{align:"left"}),"Required"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),Object(r.b)("strong",{parentName:"td"},"deviceId")),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"String"),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"Enterprise device ID"),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"yes")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),Object(r.b)("strong",{parentName:"td"},"dlgToken")),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"String"),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"Token that created for DiyalogSDK"),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"yes")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),Object(r.b)("strong",{parentName:"td"},"customerNo")),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"String"),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"Enterprise customer no"),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"yes"))))),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"POST Request Sample"),Object(r.b)("pre",{parentName:"blockquote"},Object(r.b)("code",Object(b.a)({parentName:"pre"},{}),' POST https://domain.token.validation.server/v1/checkauthtoken\n Headers :\n Auth-Token : THIS_IS_YOUR_API_TOKEN_FOR_DLG_SERVER_AUTHORISATION\n Content-Type: application/json\n POST body:\n {\n    "deviceId":"123456789aacaaca",\n    "dlgToken":"2121sasasrwsdssfdrsdaasdasdadasdasdasdasd",\n    "customerNo":"1234567"\n }\n'))),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"POST Response"),Object(r.b)("p",{parentName:"blockquote"},"Response will be text format. Possible values are :"),Object(r.b)("pre",{parentName:"blockquote"},Object(r.b)("code",Object(b.a)({parentName:"pre"},{}),"    Validated\n    ExpiredCode\n    InvalidCode\n    InvalidHash\n    InternalError\n"))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"/updatemokstatus")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"This rest api will update status of MOK Push on Security server"),Object(r.b)("p",{parentName:"blockquote"},"#####BaseUrl"),Object(r.b)("pre",{parentName:"blockquote"},Object(r.b)("code",Object(b.a)({parentName:"pre"},{}),"`https://domain.token.validation.server/v1/`\n")),Object(r.b)("p",{parentName:"blockquote"},Object(r.b)("strong",{parentName:"p"},"/updatemokstatus parameters and JSON fields")),Object(r.b)("p",{parentName:"blockquote"},"The following parameters are send to enterprise server in JSON format by POST method by Diyalog server. "),Object(r.b)("table",{parentName:"blockquote"},Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(b.a)({parentName:"tr"},{align:"left"}),"Name"),Object(r.b)("th",Object(b.a)({parentName:"tr"},{align:"left"}),"Type"),Object(r.b)("th",Object(b.a)({parentName:"tr"},{align:"left"}),"Description"),Object(r.b)("th",Object(b.a)({parentName:"tr"},{align:"left"}),"Required"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),Object(r.b)("strong",{parentName:"td"},"messageId")),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"String"),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"This field is unique push message id which is created by enterprise server."),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"yes")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),Object(r.b)("strong",{parentName:"td"},"status")),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"String"),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"It is status of the push message (Approved,Cancelled,SentToUser,ReceivedByUser,ReadByUser)"),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"yes")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),Object(r.b)("strong",{parentName:"td"},"customerNo")),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"String"),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"it is customer number that push message is sent"),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"yes")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),Object(r.b)("strong",{parentName:"td"},"secretData")),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"String"),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"This is used for MOK message. It is MOK data that signed by user device's private key"),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"yes"))))),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"Possible values of ",Object(r.b)("strong",{parentName:"p"},"status")," field are :"),Object(r.b)("table",{parentName:"blockquote"},Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(b.a)({parentName:"tr"},{align:"left"}),"Statuses"),Object(r.b)("th",Object(b.a)({parentName:"tr"},{align:"left"}),"Description"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"Approved"),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"User pressed approved button or auto approved if user's application is active for seeamless integration.")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"Cancelled"),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"If user pressed cancel button of the push message")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"SentToUser"),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"If push message send to push provider (Apple APNS or Google FireBase server). In this status, push may not be received by user.")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"ReceivedByUser"),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"If push message is delivered to user's phone exactly.")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"ReadByUser"),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"User open push message in the application and read it.")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"Timeout"),Object(r.b)("td",Object(b.a)({parentName:"tr"},{align:"left"}),"If push is not sent or received to user in a interval, status will updated as timeout."))))),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"POST Request Sample"),Object(r.b)("pre",{parentName:"blockquote"},Object(r.b)("code",Object(b.a)({parentName:"pre"},{}),' POST https://domain.token.validation.server/v1/updatemokstatus\n Headers :\n Auth-Token : THIS_IS_YOUR_API_TOKEN_FOR_DLG_SERVER_AUTHORISATION\n Content-Type: application/json\n POST body:\n {\n    "messageId":"123456789aacaaca",\n    "status":"ReceivedByUser",\n    "customerNo":"1234567",\n    "secretData": "",\n }\n\n \n POST https://domain.token.validation.server/v1/updatemokstatus\n Headers :\n Auth-Token : THIS_IS_YOUR_API_TOKEN_FOR_DLG_SERVER_AUTHORISATION\n Content-Type: application/json\n POST body:\n {\n    "messageId":"123456789aacaaca",\n    "status":"Approved",\n    "customerNo":"1234567",\n    "secretData": "ababccff12a412212121542121212121",\n }\n'))),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"POST Response"),Object(r.b)("p",{parentName:"blockquote"},"Response will be text format. Possible values are :"),Object(r.b)("pre",{parentName:"blockquote"},Object(r.b)("code",Object(b.a)({parentName:"pre"},{}),"    OK\n"))),Object(r.b)("p",null,"###APIs that should be implemented on Enterprise Applications"))}s.isMDXComponent=!0}}]);