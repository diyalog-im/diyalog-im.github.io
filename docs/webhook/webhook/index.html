<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">


<title data-react-helmet="true">Webhook | Diyalog - Dlg Messenger</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="Diyalog - Dlg Messenger"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="Dlg Messaging Platform can feed many events and situations related to your bot to webhook that you create on your own servers. In this way, you can get the status of all messages you send to your users through your bot and the responses your users have written to these messages and you can take different actions according to these events. The platform will forward these events and conditions to your webhook by making a POST request."><meta data-react-helmet="true" property="og:description" content="Dlg Messaging Platform can feed many events and situations related to your bot to webhook that you create on your own servers. In this way, you can get the status of all messages you send to your users through your bot and the responses your users have written to these messages and you can take different actions according to these events. The platform will forward these events and conditions to your webhook by making a POST request."><meta data-react-helmet="true" property="og:url" content="https://diyalog-im.github.io/docs/webhook/webhook">

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon/favicon.ico">


<link rel="stylesheet" href="/styles.f3220b6e.css">


<link rel="preload" href="/styles.f0238d79.js" as="script">

<link rel="preload" href="/runtime~main.a0dc7e53.js" as="script">

<link rel="preload" href="/main.50bfa8e9.js" as="script">

<link rel="preload" href="/common.6ee026a7.js" as="script">

<link rel="preload" href="/2.794c9ded.js" as="script">

<link rel="preload" href="/3.f4ca89b2.js" as="script">

<link rel="preload" href="/1be78505.49dcfb1a.js" as="script">

<link rel="preload" href="/20ac7829.d4ff5f5d.js" as="script">

<link rel="preload" href="/17896441.f5b5ed56.js" as="script">

<link rel="preload" href="/7d5c970b.f3385f9d.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/./img/logo-black@2x.png" alt="Diyalog Logo"><strong class="navbar__title">Diyalog - DLG Messenger</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/overview">Docs</a><a class="navbar__item navbar__link" href="/aboutus">About Us</a><a class="navbar__item navbar__link" href="/contactus">Contact Us</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/diyalog-im/diyalog-platform">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/./img/logo-black@2x.png" alt="Diyalog Logo"><strong class="navbar__title">Diyalog - DLG Messenger</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/overview">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/aboutus">About Us</a></li><li class="menu__list-item"><a class="menu__link" href="/contactus">Contact Us</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://github.com/diyalog-im/diyalog-platform">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="sidebarLogo_3ono"><img src="/./img/logo-black@2x.png" alt="Diyalog Logo"><strong>Diyalog - DLG Messenger</strong></div><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/GettingStarted/getstarted">Getting Started</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Android</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/Android/doc_getting_started">How to configure Diyalog</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Android/tokenBaseAuth">Token Base Authentication</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/Android/doc_style">Diyalog Android SDK Style</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">iOS</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/iOS/iOS">How to configure Diyalog</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/iOS/TokenBaseAuthentication">Token Base Authentication</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/iOS/RichView">Richiew Notificaion Support</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Cordova plugin</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/cordovaPlugin/HowToUseCordova">How to add Cordova plugin</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/cordovaPlugin/CreateCordovaPlugin/CreateCordovaPlugin">How to create Cordova plugin</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/cordovaPlugin/CreateIonicProject/CreateIonicProject">How to create ionic project</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Web SDK</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/diyalogWebSdk/WebSdk">How to use WEB SDK</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/diyalogWebSdk/OpenDiyalogSDK/OpenDiyalogSDK">Use Web SDK Javascript from My Web App</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/diyalogWebSdk/OpenInDiyalogSDKAngularJSApp/OpenInDiyalogSDKAngularJSApp">Use Web SDK from AngularJS Web App</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/diyalogWebSdk/OpenInIFrame/OpenInIFrame">Add Web App to an IFrame</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Messaging API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/diyalog-messaging-api/diyalog-messaging-api">Messaging API Reference</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Webhook</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/webhook/webhook">Webhooks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Operation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/ops/rancher_restart">Rancher 1.6 Operations</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Integration With Domain</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/diyalog-webhook-api/diyalog-webhook-api">Diyalog-Integration-With-Domain</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Privacy and Terms</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/privacy">Diyalog (dlg) Messenger Legal Info</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Webhook</h1></header><div class="markdown"><p>Dlg Messaging Platform can feed many events and situations related to your bot to webhook that you create on your own servers. In this way, you can get the status of all messages you send to your users through your bot and the responses your users have written to these messages and you can take different actions according to these events. The platform will forward these events and conditions to your webhook by making a POST request.</p><ul><li><a href="#how-to-configure-webHook">How to Configure WebHook?</a></li><li><a href="#webhook-events">Webhook Events</a></li><li><a href="#event-format">Event Format</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="how-to-configure-webhook"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-to-configure-webhook" title="Direct link to heading">#</a>How to Configure WebHook?</h2><p>You can only configure your bot by entering the following configuration parameters in the server.conf file of the dialog-server application.</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-undefined codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">modules {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    webbots {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        info : [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                botUserName : &quot;your_bot_username&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                webhook : {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    id : &quot;id_of_your_webhook&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    url : &quot;http://my_sample_webhook_url.com/&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    app_secret : &quot;ffeceefiaae0aec8naich2queid1thoohi3pohSah7ohgaedaengiethah1ahthuumee12affcqq12&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    verify_token : &quot;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    subscribed_webhook_events : [&quot;MessageEchoes&quot;,MessageDeliveries&quot;,&quot;MessageReads&quot;,&quot;Messages&quot;]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></code></pre></div><table><thead><tr><th>Configuration</th><th>Description</th></tr></thead><tbody><tr><td>botUserName</td><td>The username of your Webbot. This should be the username information entered by admin when creating the bot.</td></tr><tr><td>id</td><td>This information is passed back to your webhook. In this way, if you have more than one webbot in the system and all meet the same webhook with this id you can distinguish. If you wish, you can provide a single webhook id for all your webbots. It all depends on the webhook you develop.</td></tr><tr><td>url</td><td>URL address of your Webhook. The Dlg Platform will send requests to this url.</td></tr><tr><td>app_secret</td><td>Used to validate requests from the DLG platform. With the app secret value that you specify, Dlg Platform creates the SHA1 HMAC of each message it sends to you and adds this value as &quot;X-Signature&quot; to the header of the request. You can verify incoming requests by checking the HMAC.</td></tr><tr><td>verify_token</td><td>Using this information, your webhook will validate the Dlg Platform, but its development has not yet completed.</td></tr><tr><td>subscribed_webhook_events</td><td>The Dlg Platform only transmits events that you subscribe to. You can define these events to the system with this parameter. You can enter at least one or all of the values of &quot;MessageDeliveries&quot;, &quot;MessageReads&quot;, &quot;MessageEchoes&quot; as an array, and subscribe to events.</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="webhook-events"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#webhook-events" title="Direct link to heading">#</a>Webhook Events</h2><p>Below are the types of events you can get from the Dlg Platform. Different and new events will be added later.
All of the events or subscribed events will be forward to your webhook by the platform.</p><table><thead><tr><th>Webhook Event</th><th>Description</th></tr></thead><tbody><tr><td>MessageEchoes</td><td>When you subscribe to this event, you can receive information that messages are sent to the recipient</td></tr><tr><td>MessageDeliveries</td><td>If you subscribe to this event, you can receive the message ids information that has been strictly received by the recipients via your webbot.</td></tr><tr><td>MessageReads</td><td>If you subscribe to this event, you can receive the message ids information that has been read by the recipients via your webbot.</td></tr><tr><td>Messages</td><td>When users write to you, they are delivered to your webhook via your webhook. To receive these messages, you must subscribe to this event.</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="event-format"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#event-format" title="Direct link to heading">#</a>Event Format</h2><p>All webhook events are delivered to your webhook in the following format.
In this format, your webhook id information, sender bot id, receiver id number, customer number, event forwarding time are included in each event type. The content of the event varies by event type.
In another matter, the DLG platform collects a maximum of 10 events and transmits them at once, instead of sending each event to your system one by one. Of course, if 10 events have not accumulated within 5 seconds, it will forward the events that have occurred so far to your webhook.
All events are sent in the <strong> entry </strong> array object. </p><p>Here is an example event format.</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-undefined codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;object&quot;: &quot;dialog&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;entry&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;id&quot;: &quot;OTP&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;time&quot;: 1560172933001,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;messaging&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;sender&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;1614379680&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          },              </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;recipient&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;appCustomerId&quot;: &quot;70021&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;243540663&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;timestamp&quot;: 1560172926374,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          ...              </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></code></pre></div><p>The meaning of the parameters of the above json object is as follows.</p><table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>object</td><td>String</td><td>By default, this field will return to you as &quot;dialog&quot;.</td></tr><tr><td>entry</td><td>Array&lt;<a href="#entry">entry</a>&gt;</td><td>This field is the array where events are passed. One or more event objects will be sent to you. You can receive at least one and up to 10 events from each entry.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="entry"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#entry" title="Direct link to heading">#</a>entry</h3><table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>The ID information you gave during the configuration for your Webbot is sent back to you through this field.</td></tr><tr><td>time</td><td>Number</td><td>The sent time of the event to your webhook by the Dlg Platform (epoch milliseconds)</td></tr><tr><td>messaging</td><td>Array&lt;<a href="#messaging">messaging</a>&gt;</td><td>An array containing each event information. For future reference, this is designed as an array, but will only be passed to you with one object. Therefore, you can take the first element and use it.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="messaging"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#messaging" title="Direct link to heading">#</a>messaging</h3><table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>sender</td><td>&lt;<a href="#sender">sender</a>&gt;</td><td>Webbot&#x27;s information</td></tr><tr><td>recipient</td><td>&lt;<a href="#recipient">recipient</a>&gt;</td><td>Recipient&#x27;s information</td></tr><tr><td>timestamp</td><td>Number</td><td>Event time (epoch miliseconds)</td></tr><tr><td>Event Datası</td><td><a href="#event-data">Event Data</a></td><td>The event content is different for each event.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="sender"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#sender" title="Direct link to heading">#</a>sender</h3><table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>It is the unique id information of Webbot on the Dlg platform.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="recipient"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#recipient" title="Direct link to heading">#</a>recipient</h3><table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>appCustomerId</td><td>String</td><td>The customer number of the user to whom the message was delivered.</td></tr><tr><td>id</td><td>String</td><td>The unique id information of the user on the DLG platform to which the message is delivered.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="event-data"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#event-data" title="Direct link to heading">#</a>Event Data</h3><p><strong>MessageEchoes</strong></p><p>Message Echo event is the event that occurs when the message is sent to the user via the bot.
This event indicates to the user that the message was sent. This does not mean that the event has been delivered to the user.</p><p>The content of the sample MessageEcho is as follows.</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-undefined codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;messageEcho&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;app_id&quot;: 1614379680,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;is_echo&quot;: true,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;mid&quot;: &quot;messageId-92&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div></code></pre></div><table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>app_id</td><td>String</td><td>It is the unique id information of Webbot on the Dlg platform.</td></tr><tr><td>is_echo</td><td>Boolean</td><td>Default returns true.</td></tr><tr><td>mid</td><td>String</td><td>id of the message</td></tr></tbody></table><p>Below is an example entry for the MessageEcho event.</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-undefined codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;object&quot;: &quot;dialog&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;entry&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;id&quot;: &quot;OTP&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;time&quot;: 1560172933001,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;messaging&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;sender&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;1614379680&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          },              </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;recipient&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;appCustomerId&quot;: &quot;70021&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;243540663&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;timestamp&quot;: 1560172926374,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;messageEcho&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;app_id&quot;: 1614379680,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;is_echo&quot;: true,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;mid&quot;: &quot;messageId-92&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></code></pre></div><p><strong>MessageDeliveries</strong></p><p>The Message Deliveries event is the event that occurs when message or messages are delivered to recipient via the bot.
When this event is forwarded to your webhook, all messages with IDs in the event have been delivered to the user.</p><p>Sample delivery content is as follows.</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-undefined codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;delivery&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;mids&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;messageId-92&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;watermark&quot;: 1560195968593</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span></div></code></pre></div><table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>mids</td><td>Array[String]</td><td>An array containing the message ids of messages forwarded to the user. All message ids in this array are delivered to the user.</td></tr><tr><td>watermark</td><td>Number</td><td>The time of the delivery event (epoch milliseconds). All messages before this time in this parameter have been delivered.</td></tr></tbody></table><p>Below is an example entry for the MessageDeliveries event.</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-undefined codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &quot;object&quot;: &quot;dialog&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &quot;entry&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;id&quot;: &quot;OTP&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;time&quot;: 1560195973608,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;messaging&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;sender&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;1614379680&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;recipient&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;appCustomerId&quot;: &quot;70021&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;243540663&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;timestamp&quot;: 1560172926374,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;delivery&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;mids&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;messageId-92&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;messageId-93&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;watermark&quot;: 1560195968593</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span></div></code></pre></div><p><strong>MessageReads</strong></p><p>This event is forwarded to your webhook when the user reads the messages.</p><p>Example read content is as follows.</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-undefined codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> &quot;reads&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;mids&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;messageId-92&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;watermark&quot;: 1560197145045</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div></code></pre></div><table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>mids</td><td>Array[String]</td><td>An array containing the message ids that the user read. All message ids in this array have been read by the user.</td></tr><tr><td>watermark</td><td>Number</td><td>The time of the read event (epoch milliseconds). All messages before this time in this parameter have been read.</td></tr></tbody></table><p>Below is an example entry for the MessageReads event.    </p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-undefined codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;object&quot;: &quot;dialog&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;entry&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;id&quot;: &quot;OTP&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;time&quot;: 1560197150060,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;messaging&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;sender&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;1614379680&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;recipient&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;appCustomerId&quot;: &quot;70021&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;243540663&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;timestamp&quot;: 1560197145045,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;reads&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;mids&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;messageId-92&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;watermark&quot;: 1560197145045</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}  </span></div></code></pre></div><p><strong>Messages</strong></p><p>When the user responds to your webbot, this event will send the user message to your webhook.</p><p>Example message content is as follows.</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-undefined codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;message&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;mid&quot;: &quot;messageId-92&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;text&quot;: &quot;Hello&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div></code></pre></div><p>If the user has pressed one of the buttons of a template message containing the button you sent, the sample message content will be as follows.</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-undefined codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;message&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;mid&quot;: &quot;messageId-92&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;text&quot;: &quot;[messageId-92]:Approve&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div></code></pre></div><table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>mid</td><td>String</td><td>The id of the last message delivered to the user. The user has replied to this message.</td></tr><tr><td>text</td><td>String</td><td>This is the content of the user&#x27;s response. If the user has typed text to you, you will receive the text directly from the user. If the user has sent a message such as OTP (mobile confirmation code), generictemplate, buttontemplate or quickreply type to the user and pressed the buttons of this message, you will get a reply to the message as [[messageId-92]: Hello &quot;. In this way, you can detect which message the user has pushed, and take the necessary actions for the relevant message id.</td></tr></tbody></table><p>Below is an example entry for the Messages event.    </p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-undefined codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;object&quot;: &quot;dialog&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;entry&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;id&quot;: &quot;OTP&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;time&quot;: 1560198179122,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;messaging&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;sender&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;1614379680&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;recipient&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;appCustomerId&quot;: &quot;70021&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;243540663&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;timestamp&quot;: 1560198174092,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;message&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;mid&quot;: &quot;messageId-92&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;text&quot;: &quot;Hello&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></code></pre></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="some-sample-event-requests"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#some-sample-event-requests" title="Direct link to heading">#</a>Some Sample Event Requests</h2><ol><li>When a message is forwarded to the user by the bot, the MessageEchoes and MessageDeliveries event are normally forwarded to the webhook as follows.</li></ol><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-undefined codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;object&quot;: &quot;dialog&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;entry&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;id&quot;: &quot;OTP&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;time&quot;: 1560199033954,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;messaging&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;sender&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;1614379680&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;recipient&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;appCustomerId&quot;: &quot;70021&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;243540663&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;timestamp&quot;: 1560199028642,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;messageEcho&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;app_id&quot;: 1614379680,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;is_echo&quot;: true,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;mid&quot;: &quot;messageId-101&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;id&quot;: &quot;OTP&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;time&quot;: 1560199033954,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;messaging&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;sender&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;1614379680&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;recipient&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;appCustomerId&quot;: &quot;70021&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;243540663&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;timestamp&quot;: 1560199028982,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;delivery&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;mids&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;messageId-101&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;watermark&quot;: 1560199028982</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></code></pre></div><ol start="2"><li>Another example is that the user can receive messages via webbot and read them instantly while the chat screen is open. In this case you will get an event content like the one below.</li></ol><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-undefined codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;object&quot;: &quot;dialog&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;entry&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;id&quot;: &quot;OTP&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;time&quot;: 1560199722035,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;messaging&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;sender&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;1614379680&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;recipient&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;appCustomerId&quot;: &quot;70021&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;243540663&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;timestamp&quot;: 1560199716748,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;messageEcho&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;app_id&quot;: 1614379680,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;is_echo&quot;: true,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;mid&quot;: &quot;messageId-102&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;id&quot;: &quot;OTP&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;time&quot;: 1560199722035,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;messaging&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;sender&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;1614379680&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;recipient&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;appCustomerId&quot;: &quot;70021&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;243540663&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;timestamp&quot;: 1560199717421,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;delivery&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;mids&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;messageId-102&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;watermark&quot;: 1560199717421</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;id&quot;: &quot;OTP&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;time&quot;: 1560199722035,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;messaging&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;sender&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;1614379680&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;recipient&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;appCustomerId&quot;: &quot;70021&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;243540663&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;timestamp&quot;: 1560199717448,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;reads&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;mids&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;messageId-102&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;watermark&quot;: 1560199717448</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">} </span></div></code></pre></div><ol start="3"><li>You can send messages to multiple users at the same time. In the sample event request below, webbot sent a message to customer numbers 70021 and 70022 at approximately same times and a message was sent to customer 70021 but not yet to customer 70022.</li></ol><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-undefined codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;object&quot;: &quot;dialog&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;entry&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;id&quot;: &quot;OTP&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;time&quot;: 1560200490563,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;messaging&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;recipient&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;appCustomerId&quot;: &quot;70021&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;243540663&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;sender&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;1614379680&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;timestamp&quot;: 1560200485050,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;messageEcho&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;app_id&quot;: 1614379680,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;is_echo&quot;: true,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;mid&quot;: &quot;messageId-103&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;id&quot;: &quot;OTP&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;time&quot;: 1560200490563,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;messaging&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;recipient&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;appCustomerId&quot;: &quot;70022&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;1588406039&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;sender&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;1614379680&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;timestamp&quot;: 1560200488953,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;messageEcho&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;app_id&quot;: 1614379680,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;is_echo&quot;: true,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;mid&quot;: &quot;messageId-101&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;id&quot;: &quot;OTP&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;time&quot;: 1560200490563,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;messaging&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;recipient&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;appCustomerId&quot;: &quot;70021&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;243540663&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;sender&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;1614379680&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;timestamp&quot;: 1560200485546,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;delivery&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;mids&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              &quot;messageId-103&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;watermark&quot;: 1560200485546</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></code></pre></div><ol start="4"><li><p>Another example is to send messages to the user, but the user read the messages sent to him after a while. In this case, only the reading events will be as follows when the user reads the messages.
As it can be seen from the content below, the user has read the message id messageId-103, messageId-104 and messageId-105.</p><p> {
&quot;object&quot;: &quot;dialog&quot;,
&quot;entry&quot;: [
{
&quot;id&quot;: &quot;OTP&quot;,
&quot;time&quot;: 1560201130747,</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-undefined codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &quot;messaging&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       &quot;sender&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         &quot;id&quot;: &quot;1614379680&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       &quot;recipient&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         &quot;appCustomerId&quot;: &quot;70021&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         &quot;id&quot;: &quot;243540663&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       &quot;timestamp&quot;: 1560201125731,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       &quot;reads&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         &quot;mids&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">           &quot;messageId-103&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">           &quot;messageId-104&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">           &quot;messageId-105&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         &quot;watermark&quot;: 1560201125731</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> }</span></div></code></pre></div><p>   ]
}</p></li></ol></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/diyalog-messaging-api/diyalog-messaging-api"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« Diyalog Messenger Platform Messaging API Reference</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/ops/rancher_restart"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">Dlg Server Rancher 1.6 Operations »</h4></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#how-to-configure-webhook" class="contents__link">How to Configure WebHook?</a></li><li><a href="#webhook-events" class="contents__link">Webhook Events</a></li><li><a href="#event-format" class="contents__link">Event Format</a><ul><li><a href="#entry" class="contents__link">entry</a></li><li><a href="#messaging" class="contents__link">messaging</a></li><li><a href="#sender" class="contents__link">sender</a></li><li><a href="#recipient" class="contents__link">recipient</a></li><li><a href="#event-data" class="contents__link">Event Data</a></li></ul></li><li><a href="#some-sample-event-requests" class="contents__link">Some Sample Event Requests</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Learn</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/overview">Docs</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/diyalog-im/diyalog-platform" target="_blank" href="https://github.com/diyalog-im/diyalog-platform">GitHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Company</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/aboutus">About Us</a></li><li class="footer__item"><a class="footer__link-item" href="/contactus">Contact Us</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/privacy">Privacy and Terms</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Downloads</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://play.google.com/store/apps/details?id=im.diyalog.diyalogapp" target="_blank" href="https://play.google.com/store/apps/details?id=im.diyalog.diyalogapp">Android</a></li><li class="footer__item"><a class="footer__link-item" to="https://apps.apple.com/us/app/dlg-messenger/id1449572267?ls=1" target="_blank" href="https://apps.apple.com/us/app/dlg-messenger/id1449572267?ls=1">iPhone</a></li><li class="footer__item"><a class="footer__link-item" to="https://web.dlgmessenger.com" target="_blank" href="https://web.dlgmessenger.com">Web App</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 Diyalog - All Rights Reserved</div></div></div></footer>
</div>

<script src="/styles.f0238d79.js"></script>

<script src="/runtime~main.a0dc7e53.js"></script>

<script src="/main.50bfa8e9.js"></script>

<script src="/common.6ee026a7.js"></script>

<script src="/2.794c9ded.js"></script>

<script src="/3.f4ca89b2.js"></script>

<script src="/1be78505.49dcfb1a.js"></script>

<script src="/20ac7829.d4ff5f5d.js"></script>

<script src="/17896441.f5b5ed56.js"></script>

<script src="/7d5c970b.f3385f9d.js"></script>


</body>
</html>