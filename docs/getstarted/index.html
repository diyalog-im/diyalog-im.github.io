<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.71">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Diyalog - Dlg Messenger Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Diyalog - Dlg Messenger Blog Atom Feed"><title data-react-helmet="true">Getting Started | Diyalog - Dlg Messenger</title><meta data-react-helmet="true" property="og:url" content="https://diyalog-im.github.io/docs/getstarted"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Getting Started | Diyalog - Dlg Messenger"><meta data-react-helmet="true" name="description" content="Diyalog server has following parts:"><meta data-react-helmet="true" property="og:description" content="Diyalog server has following parts:"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://diyalog-im.github.io/docs/getstarted"><link data-react-helmet="true" rel="alternate" href="https://diyalog-im.github.io/docs/getstarted" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://diyalog-im.github.io/docs/getstarted" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.9f9d22af.css">
<link rel="preload" href="/assets/js/styles.340bf70c.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.2d1de8f7.js" as="script">
<link rel="preload" href="/assets/js/main.fc01ddcc.js" as="script">
<link rel="preload" href="/assets/js/1.ad96a7e5.js" as="script">
<link rel="preload" href="/assets/js/2.a94002aa.js" as="script">
<link rel="preload" href="/assets/js/80.d3b14fa6.js" as="script">
<link rel="preload" href="/assets/js/81.e55de64b.js" as="script">
<link rel="preload" href="/assets/js/935f2afb.465564e3.js" as="script">
<link rel="preload" href="/assets/js/17896441.1cd62e4c.js" as="script">
<link rel="preload" href="/assets/js/716f46ee.d8751c55.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/./img/diyalog_logo_32h.png" alt="Diyalog" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/./img/diyalog_logo_32h.png" alt="Diyalog" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Diyalog</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/overview">Docs</a><a class="navbar__item navbar__link" href="/aboutus">About Us</a><a class="navbar__item navbar__link" href="/contactus">Contact Us</a><a href="https://github.com/diyalog-im/diyalog-platform" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/./img/diyalog_logo_32h.png" alt="Diyalog" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/./img/diyalog_logo_32h.png" alt="Diyalog" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Diyalog</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/overview">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/aboutus">About Us</a></li><li class="menu__list-item"><a class="menu__link" href="/contactus">Contact Us</a></li><li class="menu__list-item"><a href="https://github.com/diyalog-im/diyalog-platform" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/overview">Overview</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/getstarted">Getting Started</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Android</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/android_getting_started">How to use Diyalog</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/android_configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/android_style">Styling</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/android_notification_configuration">Notifications</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Use Cases</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/android_video_help">Video Help</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/android_online_help">Online Help</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/android_tokenBaseAuth">Token Base Authentication</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">iOS</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/iOS_getting_started">How to use Diyalog</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ios_configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/iOS_style">Styling</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ios_notification_configuration">Notifications</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/iOS_RichView">RichView Notification Support</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Use Cases</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ios_video_help">Video Help</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ios_online_help">Online Help</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/iOS_TokenBaseAuthentication">Token Base Authentication</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Cordova plugin</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cordova_HowToUseCordova">How to add Cordova plugin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cordova_CreatePlugin">How to create Cordova plugin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cordova_CreateIonicProject">How to create ionic project</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Web SDK</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/diyalogWeb_WebSdk">How to use WEB SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/diyalogWeb_OpenDiyalogSDK">Use Web SDK Javascript from My Web App</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/diyalogWeb_OpenInDiyalogSDKAngularJSApp">Use Web SDK from AngularJS Web App</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/diyalogWeb_OpenInIFrame">Add Web App to an IFrame</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Api Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/diyalog-api-authentication">Authentication</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Messaging API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/diyalog-messaging-api-overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/diyalog-messaging-api-sendmessage-api">SendMessage API</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Templates</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/diyalog-messaging-api-textmessage">Text Message</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/diyalog-messaging-api-quickreplies">Quick Replies Template</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/diyalog-messaging-api-generictemplate">Generic Template</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/diyalog-messaging-api-buttontemplate">Button Template</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/diyalog-messaging-api-sendotp-api">SendOTP API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/webhook">Webhooks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Reporting API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/diyalog-reporting-api-overview">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">APIs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/diyalog-reporting-api-getonlinehelplist">getonlinehelplist</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/diyalog-reporting-api-getcalllist">getcalllist</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/diyalog-reporting-api-getstaffmessaginglist">getstaffmessaginglist</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/diyalog-reporting-api-getcustomermessaginglist">getcustomermessaginglist</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/diyalog-reporting-api-getmessagingdetail">getmessagingdetail</a></li></ul></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Operation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ops_rancher_restart">Rancher 1.6 Operations</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Privacy and Terms</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/privacy">Diyalog (dlg) Messenger Legal Info</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Getting Started</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="diyalog-server-has-following-parts"></a>Diyalog server has following parts:<a class="hash-link" href="#diyalog-server-has-following-parts" title="Direct link to heading">#</a></h2><ol><li><p><strong>diyalog-server</strong>  : </p><p>Server application of the platform. It is developed by Scala Akka.io technology and it needs Linux/Windows server and Open/Oracle JDK1.8+. </p></li><li><p><strong>diyalog-database</strong> :</p><p>Diyalog Platform is using Oracle 12c+/Postgresql9.4+ database servers to record data.
</p></li><li><p><strong>diyalog-keygenerator</strong> : </p><p>It is simple keygenerator application written with Java. It is used only one time to generate secure server keys that need to run server securely.</p></li><li><p><strong>diyalog-masterbot</strong> :  </p><p>It is masterbot application which is responsible for the creation of new bots. Only admin users can see masterbot user in your contact list to create new bot credentials. MasterBot can be run when you need to create new bot for security reasons. But it is not necessary to do this.</p></li><li><p><strong>diyalog-webapp</strong> :</p><p>This is web application client web server. It serves for downloading web client single page application files by users&#x27; browsers. </p></li><li><p><strong>diyalog-turnserver</strong> :</p><p>Diyalog Platform has voice and video calls features. Diyalog doing them by using WebRTC library. To enable this you need to install or use TURN/STUN servers onpremise or in cloud in order to resolve clients ip addresses in NAT.</p></li></ol><p>Diyalog clients are :</p><ol><li><a href="/diyalogWebSdk/WebSdk.md">Web SDK</a></li><li><a href="/iOS.md">iOS SDK</a></li><li><a href="/Android/doc_getting_started.md">Android SDK</a></li><li><a href="/cordovaPlugin/HowToUseCordova.md">Ionic / Cordova Plugin</a></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="integration"></a>Integration<a class="hash-link" href="#integration" title="Direct link to heading">#</a></h2><p>Diyalog support phone and email or both authorisation by default. SDK give you a UI for this type of authorisation. Only needing is </p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="devops-documentation"></a>DevOps Documentation<a class="hash-link" href="#devops-documentation" title="Direct link to heading">#</a></h2><p>Welcome to devops documentatation. You can find how you can install Diyalog Platform server from Diyalog docker images.</p><p>Installation procedure should be following order.</p><ol><li><p>Starting database server for running application.</p><p>You can use Oracle or Postgresql server for Diyalog Platform. If you are using Postgresql database server you can use Posgres official docker images with the following command.</p><p><strong>For Postgres Database Server</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker run --name=diyalog-db -e PASSWORD=&lt;your postgresql password&gt; -e POSTGRES_USER=diyalog -e POSTGRES_DB=diyalog -p 5432:5432 -v &lt;volume for db data&gt;:/var/lib/postgresql/data -d postgres:9.6</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>You can find more information on <a href="https://hub.docker.com/_/postgres/" target="_blank" rel="noopener noreferrer">postgres official docker repository</a></p><p><strong>For Oracle Database Server</strong></p><p>There is not any docker official docker image for Oracle database server. You should install your database server and create schema and cridentials.</p><p><em>It is important to note that, database PASSWORD, USER, and DB or SCHEMA information will be used on diyalog-server application jdbc configuration setting.</em></p></li><li><p>Generating the trusted server keys</p><p>diyalog-keygenerator docker image should be used to generate secure keys for Diyalog server and clients.</p><p>Following command will start the diyalog-keygenerator docker container and automatically generate key-files, public trusted keys for clients and secret key for diyalog server. These outputs are important for running diyalog-server application docker image. Therefore output should be saved or noted.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker run -it -v &lt;volume for created keys&gt;:/generatedkeys diyalog/diyalog-keygenerator:1.0.0</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Out put of the docker container will be like following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ---------------------------------------------------------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">| Trusted public key that will be used on clients are :             |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|                                                                   |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">| b6e78e0295d984beb2328529cbdf2a310ea50c20df39a87303d907a7688c8620  |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">| 4990d9f5515adda853d85e0a0789222dd9df8f7d2c92a7fc2e991dfde4b4094a  |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">| f599890af2007dca8f1d603f5027d1e440d91c7b1a72529e8a9e310ad90e190e  |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">| e95a1dcc3ae3e131fee232e0a5af3d9e303b8b2aa2903eb82cf55acf8108377a  |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">| 17f0554d6fe47f50d3c7904057bfa53944311f6c5c6ad72399687360deb8662c  |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">| 8191cba8fb746aeacf8fe708eb90b4c2967da9941572a31ca16e7327f69dba08  |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">|                                                                   |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">| You can find this keys on keys/trustedKeys file                   |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">---------------------------------------------------------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">All server keys created and copiedon keys folder. Please add these files to server configuration.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Shared Secret: Z2oLqdIvCuq56GYw8KJ0d/0gVQTLHvlUQWG5tzacQmj3Qej1lNBJ59j/hEljJ/N+P7OEUCACfrSyuGLR1MMATw==</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">This shared secret should be set in server configuration or add to env vars when running docker image og diyalog-server</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><strong>Server key files</strong> created by this diyalog-keygenerator. 6 key pairs are created and copied to <strong>/generatedkeys</strong> folder in container. Therefore, a volume can mount to this folder to copy them for using in server.</p><p><strong>Trusted public keys</strong> will be used on ios and android clients. So, they should be shared with mobile development team to run Diyalog mobile SDK with these keys. This public keys are also stored in the trustedKeys/publickeys file on volume.</p><p><strong>Shared Secret</strong> is another important data to securing your server. This is a random string and this will be used for creating some hash and other secure data. <strong>When a server runs with this secret, this secret should not be changed due to backward compatibility.</strong></p></li><li><p>Running Diyalog-Server</p><p><strong>diyalog-server</strong> docker image should be used for running diyalog-server. The following setting can be add to you docker run command as environment variable to change setting in the server. </p><p><strong>For Securing Server :</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    SERVER_SECRET : Shared secret. Shared secret that was created in step 2 (Keygeneration step) should be set to this variable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">**For Oracle DB configuration :**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        SERVER_DB_HOST          : Database server hostname. Default value is localhost</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        SERVER_DB_PORT          : Database server port. Default value is 1521</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        DB_NAME                 : Database name. Default value is orcl</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        DB_USER                 : Database username.  Default value is diyalog</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        DB_PASSWORD             : Database user pasword. Default value is password</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        SLICK_ORACLE_SCHEMANAME : Database shemaname. Default is DIYALOG</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">**For Postgres DB configuration :**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        SERVER_DB_HOST          : Database server hostname. Default value is postgres</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        SERVER_DB_PORT          : Database server port. Default value is 5432</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        DB_NAME                 : Database name. Default value is postgres</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        DB_USER                 : Database username.  Default value is postgres</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        DB_PASSWORD             : Database user pasword. Default value is password</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">**Email config for sending OTP via Email :**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        EMAIL_SENDER_ADDRESS : Sender address of email. Default value is empty.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        EMAIL_SENDER_NAME    : Sender name of email. Default value is Diyalog.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        SMTP_HOST            : SMTP server host name. Default is empty.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        SMTP_PORT            : SMTP server port number. Default value is 465</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        SMTP_USERNAME        : SMTP server username. Default is empty.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        SMTP_PASSWORD        : SMTP server user password. Default is empty.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        SMTP_TLS             : SMTP server tls flag. Default value is true.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">**Storage Settings :**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        FILE_STORAGE_ADAPTER : It is used for configuration of storage adapter.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                    Default value is im.diyalog.server.file.local.LocalFileStorageAdapter </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                    i.e. local file storage. If you want to use amazon S3 storage this </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                    value should be set to im.diyalog.server.file.s3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        For local file storage following env variable should be set,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            FILESTORAGE_LOCATION : This is the directory name that server store files on it. </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                        Default local file storage is /var/lib/diyalog/files</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        For S3 adapter following env variables should be set,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            AWS_S3_APIKEY     : Your Amazon S3 API key</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            AWS_S3_APISECRET  : Your Amazon S3 API Secret</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            AWS_S3_BUCKETNAME : Your Amazon S3 bucket name. Default value is bucket_diyalog</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            AWS_S3_ENDPOINT   : This variable is used for S3 API compatible storage rather than Amazon S3.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">**Google Messaging Service Settings :**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //TODO: This will be documented later.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">**Apple Push Notification Service Settings :**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        //TODO: This will be documented later.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">**TURN/STUN server settings :**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ICE_SERVER_TCP_URL  : TCP url for TURN/STUN server. Default value is turn:localhost:3478?transport=tcp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ICE_SERVER_UDP_URL  : UDP url for TURN/STUN server. Default value is turn:localhost:3478?transport=udp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ICE_SERVER_USERNAME : Tcp TURN/STUN server user name. Default value is diyalog</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ICE_SERVER_PASSWORD : Tcp TURN/STUN server user password. Default value is password</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">**Cluster Settings :**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    This settings are for akka clustering. </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        PUBLISH_HOST : netty.tcp.hostname configuration of akka remoting. </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                          External (logical) hostname (the host to advertise on)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        PUBLISH_PORT : netty.tcp.port configuration of akka remoting. </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                          External (logical) port (the port to advertise on)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        BIND_HOST    : netty.tcp.bind-hostname configuration of akka remoting.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            Internal (bind) hostname</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        BIND_PORT    : netty.tcp.bind-port configuration of akka remoting.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            Internal (bind) port</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">You can find example of docker run command with minimal env variable setting below. In docker image server application search key files in /var/lib/diyalog/keys folder. Therefore, server key files created in step 1 should be shared with a volume mount to this folder.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">**for oracle**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    docker run \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         --name=diyalog-server \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         -e &quot;SERVER_DB_HOST=&lt;Your database server host name&gt;&quot; \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         -e &quot;DB_NAME=&lt;Your database name&gt;&quot; \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         -e &quot;DB_USER=&lt;Your database user&gt;&quot; \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         -e &quot;DB_PASSWORD=&lt;Your database user password&gt;&quot; \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         -v &lt;docker volume for file storage&gt;:/var/lib/diyalog/files \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         -v &lt;docker volume for generated server keys&gt;:/var/lib/diyalog/keys \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         -p 4857:4857 \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         -p 4858:4858 \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         -p 4859:4859 \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         -d \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         diyalog/server-orcl:1.0.3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">**for postgres**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    docker run \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         --name=diyalog-server \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         --link diyalog-db:diyalog</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         -v &lt;docker volume for file storage&gt;:/var/lib/diyalog/files \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         -v &lt;docker volume for generated server keys&gt;:/var/lib/diyalog/keys \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         -p 4857:4857 \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         -p 4858:4858 \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         -p 4859:4859 \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         -d \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         diyalog/server-orcl:1.0.3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">After running Diyalog server. You can add a proxy server in front of it for SSL offloading, load balance and directing the connection. Haproxy is recomended for it. You can use following DNS names notation and backend port configuration.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">**DNS and Backend Conf**</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">| Record Name  | DNS Name (sample)  | Default Port |  Description |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">| ------------ | -----------------  | ------------ | -------------  |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">| web          | web.domain.com     | 3000 | Web client application endpoint.             |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">| ws           | ws.domain.com      | 4858 | Websocket port of Diyalog server for clients.|</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">| tcp          | tcp.domain.com     | 4857 | Tcp port of Diyalog server for mobile apps.  |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">| api          | api.domain.com     | 4859 | Http api endpoint. This endpoint is also support bots. |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ol start="4"><li><p>Starting MasterBot app to be able to create and manage credentials of new bot applications.</p><p>There is a possibility to create new bot applications for the Diyalog platform. There is a diyalog-bots-platform library. You can use this library to create new bot application which can communicate with diyalog-server. MasterBot is a bot application. Its main purpose is to create and manage newly developed bot applications. </p><p><strong>diyalog-masterbot</strong> docker image should be used for running diyalog masterbot. You can start MasterBot docker image with following command. Since Masterbot app will connect to Diyalog-server when started, diyalog-server should be started first.</p><p>For starting Masterbot app you need to set some environment variables. You can find the details about them below.</p><p><strong>MasterBot Settings</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">BOT_ENDPOINT : Diyalog server &quot;api&quot; endpoint adress. Diyalog server is waiting </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  websocket connection from bot applications at port 4859 as default.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  This port shou</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>for starting docker image:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker run \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    --name=diyalog-masterbot \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    -e &quot;BOT_ENDPOINT=ws://&lt;Diyalog Server api endpoint&gt;&quot; \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    -e &quot;BOT_USERNAME=&lt;Username which created in Diyalog platform for Masterbot&gt;&quot; \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    -e &quot;BOT_TOKEN=&lt;Token which created in Diyalog platform for Masterbot&gt;&quot; \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    -d \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    diyalog-masterbot:1.0.0</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li></ol><ol start="5"><li></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="server-installation"></a>Server Installation<a class="hash-link" href="#server-installation" title="Direct link to heading">#</a></h2></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Diyalog Messaging Platform</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/android_getting_started"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">How to use Diyalog Android SDK Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#diyalog-server-has-following-parts" class="table-of-contents__link">Diyalog server has following parts:</a></li><li><a href="#integration" class="table-of-contents__link">Integration</a></li><li><a href="#devops-documentation" class="table-of-contents__link">DevOps Documentation</a></li><li><a href="#server-installation" class="table-of-contents__link">Server Installation</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Learn</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/overview">Docs</a></li><li class="footer__item"><a href="https://github.com/diyalog-im/diyalog-platform" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Company</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/aboutus">About Us</a></li><li class="footer__item"><a class="footer__link-item" href="/contactus">Contact Us</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/privacy">Privacy and Terms</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Downloads</h4><ul class="footer__items"><li class="footer__item"><a href="https://play.google.com/store/apps/details?id=im.diyalog.diyalogapp" target="_blank" rel="noopener noreferrer" class="footer__link-item">Android</a></li><li class="footer__item"><a href="https://apps.apple.com/us/app/dlg-messenger/id1449572267?ls=1" target="_blank" rel="noopener noreferrer" class="footer__link-item">iPhone</a></li><li class="footer__item"><a href="https://web.dlgmessenger.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Web App</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Diyalog - All Rights Reserved</div></div></div></footer></div>
<script src="/assets/js/styles.340bf70c.js"></script>
<script src="/assets/js/runtime~main.2d1de8f7.js"></script>
<script src="/assets/js/main.fc01ddcc.js"></script>
<script src="/assets/js/1.ad96a7e5.js"></script>
<script src="/assets/js/2.a94002aa.js"></script>
<script src="/assets/js/80.d3b14fa6.js"></script>
<script src="/assets/js/81.e55de64b.js"></script>
<script src="/assets/js/935f2afb.465564e3.js"></script>
<script src="/assets/js/17896441.1cd62e4c.js"></script>
<script src="/assets/js/716f46ee.d8751c55.js"></script>
</body>
</html>