<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">


<title data-react-helmet="true">SendMessage API | Diyalog - Dlg Messenger</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="Diyalog - Dlg Messenger"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="export const Highlight = ({children, color}) =&gt; ("><meta data-react-helmet="true" property="og:description" content="export const Highlight = ({children, color}) =&gt; ("><meta data-react-helmet="true" property="og:url" content="https://diyalog-im.github.io/docs/diyalog-messaging-api-sendmessage-api">

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon/favicon.ico">


<link rel="stylesheet" href="/styles.fcc23f2a.css">


<link rel="preload" href="/styles.8341f410.js" as="script">

<link rel="preload" href="/runtime~main.f83b336a.js" as="script">

<link rel="preload" href="/main.f090b8b8.js" as="script">

<link rel="preload" href="/common.8e038663.js" as="script">

<link rel="preload" href="/2.31115908.js" as="script">

<link rel="preload" href="/3.2d89642c.js" as="script">

<link rel="preload" href="/1be78505.2ec52951.js" as="script">

<link rel="preload" href="/20ac7829.83a2b26c.js" as="script">

<link rel="preload" href="/17896441.1541f792.js" as="script">

<link rel="preload" href="/d500b917.c313d5dd.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/./img/logo-black@2x.png" alt="Diyalog Logo"><strong class="navbar__title">Diyalog - DLG Messenger</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/overview">Docs</a><a class="navbar__item navbar__link" href="/aboutus">About Us</a><a class="navbar__item navbar__link" href="/contactus">Contact Us</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/diyalog-im/diyalog-platform">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/./img/logo-black@2x.png" alt="Diyalog Logo"><strong class="navbar__title">Diyalog - DLG Messenger</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/overview">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/aboutus">About Us</a></li><li class="menu__list-item"><a class="menu__link" href="/contactus">Contact Us</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://github.com/diyalog-im/diyalog-platform">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="sidebarLogo_3ono"><img src="/./img/logo-black@2x.png" alt="Diyalog Logo"><strong>Diyalog - DLG Messenger</strong></div><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/getstarted">Getting Started</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Android</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/android_getting_started">How to configure Diyalog</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/android_tokenBaseAuth">Token Base Authentication</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/android_style">Diyalog Android SDK Style</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">iOS</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/iOS_getting_started">How to configure Diyalog</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/iOS_TokenBaseAuthentication">Token Base Authentication</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/iOS_RichView">RichView Notification Support</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Cordova plugin</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/cordova_HowToUseCordova">How to add Cordova plugin</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/cordova_CreatePlugin">How to create Cordova plugin</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/cordova_CreateIonicProject">How to create ionic project</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Web SDK</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/diyalogWeb_WebSdk">How to use WEB SDK</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/diyalogWeb_OpenDiyalogSDK">Use Web SDK Javascript from My Web App</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/diyalogWeb_OpenInDiyalogSDKAngularJSApp">Use Web SDK from AngularJS Web App</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/diyalogWeb_OpenInIFrame">Add Web App to an IFrame</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Messaging API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/diyalog-messaging-api-overview">Overview</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/diyalog-messaging-api-sendmessage-api">SendMessage API</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Templates</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/diyalog-messaging-api-textmessage">Text Message</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/diyalog-messaging-api-quickreplies">Quick Replies</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/diyalog-messaging-api-generictemplate">Generic Template</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/diyalog-messaging-api-buttontemplate">Button Template</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/diyalog-messaging-api-sendotp-api">SendOTP API</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/webhook">Webhooks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Operation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/ops_rancher_restart">Rancher 1.6 Operations</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Privacy and Terms</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/privacy">Diyalog (dlg) Messenger Legal Info</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">SendMessage API</h1></header><div class="markdown"><p>You can send text, image, video, voice, file and structured messages to your users by using SendMessage API.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="request-uri"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#request-uri" title="Direct link to heading">#</a>Request URI</h2><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-javascript codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">https</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token constant" style="color:rgb(130, 170, 255)">DIYALOG</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token constant" style="color:rgb(130, 170, 255)">SERVER</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token constant" style="color:rgb(130, 170, 255)">API</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token constant" style="color:rgb(130, 170, 255)">ENDPOINT</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">v1</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">bots</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">v1</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">bots</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">sendmessage</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token constant" style="color:rgb(130, 170, 255)">YOUR</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token constant" style="color:rgb(130, 170, 255)">BOT</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token constant" style="color:rgb(130, 170, 255)">ACCESS</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token constant" style="color:rgb(130, 170, 255)">TOKEN</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></div></code></pre></div><p>DIYALOG-SERVER-API-ENDPOINT : It is the api endpoint address of the DLG server. We can give <span style="color:#42b72a">api.dlgmessenger.com</span> as an example.   </p><p>YOUR-BOT-ACCESS-TOKEN : You can only send all type of messages to you users via <span style="color:#42b72a">bot</span>  user that created by admin of the platform.
If you want you can send messages to your users  from all of your applications via one bot,
or you can send them via different bots regarding as your applications functionality.
The user will seee the bot that created for you as a standart user in their mobile or web clients. You can do messaging via this bot.
Every created bot has an unique access token. You should take it from the DLG admin and add it to the end of the SendMessage api uri request.
When DLG server receive your api request, it will get token from the request and check it and find the bot information.
Then It send your message to the user as if this bot user.<br>
This token is an access token and it should be private and store safely.
If it can be accessed by unauthorized people, they can send message to your users as you.
Therefore it should be store safely.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="example-request"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#example-request" title="Direct link to heading">#</a>Example Request</h2><p>You can see below  as an example http request that can run with <span style="color:#42b72a">curl</span> command.</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-powershell codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">curl -X POST -H &quot;Content-Type: application/json&quot; -d &#x27;{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;recipient&quot;:    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;appCustomerId&quot;:&quot;1231231&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;message&quot;:{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;text&quot;:&quot;hello world&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;messageId&quot;: &quot;msg-id-123-112233&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;quick_replies&quot;:[]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">}&#x27; &quot;https://api.dlgmessenger.com/v1/bots/sendmessage/c2dc9bf3e0c3218e9ab22b56002e4644&quot;</span></div></code></pre></div><p>Easyly seen in the request, <span style="color:#42b72a">https<span>://</span>api.dlgmessenger.com/v1/bots/sendmessage/c2dc9bf3e0c3218e9ab22b56002e4644</span> is the URI of the request.
It can be also seen that an <span style="color:#42b72a">JSON</span> obejct is is sending with <span style="color:#42b72a">POST</span> method in the curl command. </p><p>If we analyse the endpoint address;<br>
Api Server : <span style="color:#1877F2">api.dlgmessenger.com</span><br>
Api Name   : <span style="color:#1877F2">/v1/bots/sendmessage/</span><br>
Bot Token  : <span style="color:#1877F2">c2dc9bf3e0c3218e9ab22b56002e4644</span></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="request-details"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#request-details" title="Direct link to heading">#</a>Request Details</h2><p>Api request has two properties. Both of these properties are objects that has self properties. <span style="color:#42b72a">recipient</span> is object that
define the recipient of the message and <span style="color:#42b72a">message</span> is another object that define the content of the message.</p><table><thead><tr><th>Property</th><th>Type</th><th>Description</th><th>Mandatory</th></tr></thead><tbody><tr><td><span style="color:#42b72a">recipient</span></td><td>Object</td><td><a href="#greencoloredtextrecipientgreencoloredtext">recipient</a> object</td><td>Evet</td></tr><tr><td><span style="color:#42b72a">message</span></td><td>Object</td><td>Content of the message - (<a href="#greencoloredtextmessagegreencoloredtext">message</a> object)</td><td>Evet</td></tr></tbody></table><p>The <span style="color:#1877F2">JSON</span> that has two object defined in the above should be send to server with <span style="color:#1877F2">POST</span> method. </p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-json codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;recipient&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;message&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="greencoloredtextrecipientgreencoloredtext"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#greencoloredtextrecipientgreencoloredtext" title="Direct link to heading">#</a><span style="color:#42b72a">recipient</span></h3><p>You can pass the user information you want to send the message to api in the <span style="color:#42b72a">recipient</span> object.</p><table><thead><tr><th>Property</th><th>Tip</th><th>Açıklama</th><th>Zorunlu Alan</th></tr></thead><tbody><tr><td><span style="color:#42b72a">appCustomerId</span></td><td>String</td><td>Customer id in your system</td><td>Opsiyonel</td></tr><tr><td><span style="color:#42b72a">appStaffId</span></td><td>String</td><td>Your staff id.</td><td>Opsiyonel</td></tr><tr><td><span style="color:#42b72a">id</span></td><td>String</td><td>Unique DLG user id.</td><td>Opsiyonel</td></tr></tbody></table><p>You can pass the the user information that will receive your message with this object.
Your request should only have one of the properties that <span style="color:#42b72a">appCustomerId</span>, <span style="color:#42b72a">appStaffId</span> or <span style="color:#42b72a">id</span>.</p><p>There are two unique id for a single user in the DLG platform One of them is DLG user id.
This id is created randomly when user registering to the system.
Besides of this id,  according to the user type, one of the customer id or staff id are stored for the user in DLG.</p><p>As a result, you can use one of the customer id or staff id and DLG id in order to send message.</p><p>If you know the DLG user id, you can use it for customor or staff.</p><p>Using customer id and staff id is more applicable than using DLG user id. Because if you want to use DLG id, you should store all DLG user ids in your system.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="sample-recipient-json-object"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#sample-recipient-json-object" title="Direct link to heading">#</a>Sample recipient json object</h5><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-json codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;recipient&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;appCustomerId&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;123456789&quot;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;message&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span></div></code></pre></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="greencoloredtextmessagegreencoloredtext"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#greencoloredtextmessagegreencoloredtext" title="Direct link to heading">#</a><span style="color:#42b72a">message</span></h3><p>You should use message object for setting content of the message.  </p><span style="color:#42b72a">message</span> includes by <span style="color:#42b72a">text</span>, <span style="color:#42b72a">attachment</span>, <span style="color:#42b72a">quickReplies</span>, <span style="color:#42b72a">quickRepliesV2</span> properties. A message object can only have one of the <span style="color:#42b72a">text</span> or <span style="color:#42b72a">attachment</span>.<p>You should only use <span style="color:#42b72a">text</span> property, when sending text message to your users.
For other type of message like media, image, picture, video, audio, file or template message,
you should use <span style="color:#42b72a">attachment</span> instead of <span style="color:#42b72a">text</span>.</p><p>You can add quick reply buttons to you messages by setting <span style="color:#42b72a">quickRepliesV2</span> property.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="sample-message-json-object"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#sample-message-json-object" title="Direct link to heading">#</a>Sample message json object</h5><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-json codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;recipient&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;message&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;messageId&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;msg-id-123-1122-1111&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;text&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;hello world ¯\_(ツ)_/¯&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;quickReplies&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;quickRepliesV2&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><table><thead><tr><th>Property</th><th>Tip</th><th>Açıklama</th><th>Zorunlu Alan</th></tr></thead><tbody><tr><td><span style="color:#42b72a">messageId</span></td><td>String</td><td>This is a unique id of your message. You should create it in your system and send it to api. If you don&#x27;t create and sent it to api DLG will create it for you and send it to you in the response of your request. DLG platfrom will feed the events of the messages to your system by this id. You can use it to differenciate events by this id. Therefore, this id is important for following all events of your message by your system.</td><td>Opsiyonel</td></tr><tr><td><span style="color:#42b72a">text</span></td><td>String</td><td>Text that will send to you users. You should only use <span style="color:#42b72a">text</span> property, when sending text message to your users.</td><td>Opsiyonel</td></tr><tr><td><span style="color:#42b72a">attachment</span></td><td>Object</td><td>(<a href="#greencoloredtextattachmentgreencoloredtext">attachment</a> Object) Contents of message  types other than text can be set with this property.</td><td>Opsiyonel</td></tr><tr><td><span style="color:#42b72a">quickReplies</span></td><td>Array&lt;quickReply&gt;</td><td>This field is the old version, but since it is mandatory, it should be added to all requests as empty array like <strong>&quot;quickReplies&quot;: []</strong> .</td><td>Evet</td></tr><tr><td><span style="color:#42b72a">quickRepliesV2</span></td><td>Array&lt;quickReplyV2&gt;</td><td>New version of quickReplies property. You can use this property to add quick reply buttons to your text message.</td><td>Evet</td></tr></tbody></table><span style="background-color:#da3d5f;border-radius:2px;color:#fff;padding:0.2rem">Note :</span><p>quickRepliesV2 is the new version of the quickReply property. New DLG mobile sdk is using new version of it. Therefore you should use it to add quick reply buttons to your message. But you should also need to add empty quickReplies property for each request due to mandatory property. Also you shhould add empty quickRepliesV2 property, although you don&#x27;t want to add any button.</p><p>If you don&#x27;t add any of quickReplies or quickRepliesV2 property, you will receive <strong>malformed request error</strong>  from DLG server.</p><p>You can see sample json object that is created for sending text message in below.
DLG server will send <span style="background-color:#1877F2;border-radius:2px;color:#fff;padding:0.2rem">hello world</span>text message to customer
whose id is <span style="background-color:#1877F2;border-radius:2px;color:#fff;padding:0.2rem">123456789</span></p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-json codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;recipient&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;appCustomerId&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;123456789&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;message&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;messageId&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;msg-id-123-1122-1111&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;text&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;hello world&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;quickReplies&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;quickRepliesV2&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="greencoloredtextattachmentgreencoloredtext"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#greencoloredtextattachmentgreencoloredtext" title="Direct link to heading">#</a><span style="color:#42b72a">attachment</span></h3><p>If you want to send message  types other than text, you should set <span style="color:#42b72a">attachment</span> instead of <span style="color:#42b72a">text</span>. </p><p>By setting <span style="color:#42b72a">attachment</span> property, you can send following types of message;</p><ul><li>Media messages : image, picture, audio, video and file</li><li>Template messages : generic template, button template</li></ul><table><thead><tr><th>Property</th><th>Tip</th><th>Açıklama</th><th>Zorunlu Alan</th></tr></thead><tbody><tr><td><span style="color:#42b72a">type</span></td><td>String</td><td>This property can be one of the  following values : <span style="color:#42b72a">&quot;template&quot;</span><span style="color:#42b72a">&quot;image&quot;</span>, <span style="color:#42b72a">&quot;audio&quot;</span>, <span style="color:#42b72a">&quot;video&quot;</span>, <span style="color:#42b72a">&quot;file&quot;</span></td><td>Evet</td></tr><tr><td><span style="color:#42b72a">payload</span></td><td>Object</td><td>Content of the attachement. <span style="color:#1877F2">payload</span> object.</td><td>Evet</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="response"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#response" title="Direct link to heading">#</a>Response</h2><p>Successful API requests return the json object with the answer code  <strong>http-2XX</strong>.<br>
Response JSON object will have recipient id and message id properties.
Recipient id will be the DLG user id. And message id will be the message id that is given with the request.
If the request has not have any message id, DLG will create a message id and add it to response.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="response-details"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#response-details" title="Direct link to heading">#</a>Response Details</h3><table><thead><tr><th>Property</th><th>Tip</th><th>Açıklama</th></tr></thead><tbody><tr><td><span style="color:#42b72a">recipient_id</span></td><td>String</td><td>DLG user id.</td></tr><tr><td><span style="color:#42b72a">message_id</span></td><td>String</td><td>It is the id of the message sent to the user. If you have given a messageId in the request, this id will be sent back to you in this field. If you have not provided an id, the unique id created in the DLG system returns from this field.</td></tr></tbody></table><p>Sample response</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-json codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token property">&quot;recipient_id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2074022437&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token property">&quot;message_id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;-7523925115459309081&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/diyalog-messaging-api-overview"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« Overview</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/diyalog-messaging-api-textmessage"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">Metin Mesajı »</h4></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#request-uri" class="contents__link">Request URI</a></li><li><a href="#example-request" class="contents__link">Example Request</a></li><li><a href="#request-details" class="contents__link">Request Details</a><ul><li><a href="#greencoloredtextrecipientgreencoloredtext" class="contents__link"><greencoloredtext>recipient</greencoloredtext></a></li><li><a href="#greencoloredtextmessagegreencoloredtext" class="contents__link"><greencoloredtext>message</greencoloredtext></a></li><li><a href="#greencoloredtextattachmentgreencoloredtext" class="contents__link"><greencoloredtext>attachment</greencoloredtext></a></li></ul></li><li><a href="#response" class="contents__link">Response</a><ul><li><a href="#response-details" class="contents__link">Response Details</a></li></ul></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Learn</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/overview">Docs</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/diyalog-im/diyalog-platform" target="_blank" href="https://github.com/diyalog-im/diyalog-platform">GitHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Company</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/aboutus">About Us</a></li><li class="footer__item"><a class="footer__link-item" href="/contactus">Contact Us</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/privacy">Privacy and Terms</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Downloads</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://play.google.com/store/apps/details?id=im.diyalog.diyalogapp" target="_blank" href="https://play.google.com/store/apps/details?id=im.diyalog.diyalogapp">Android</a></li><li class="footer__item"><a class="footer__link-item" to="https://apps.apple.com/us/app/dlg-messenger/id1449572267?ls=1" target="_blank" href="https://apps.apple.com/us/app/dlg-messenger/id1449572267?ls=1">iPhone</a></li><li class="footer__item"><a class="footer__link-item" to="https://web.dlgmessenger.com" target="_blank" href="https://web.dlgmessenger.com">Web App</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 Diyalog - All Rights Reserved</div></div></div></footer>
</div>

<script src="/styles.8341f410.js"></script>

<script src="/runtime~main.f83b336a.js"></script>

<script src="/main.f090b8b8.js"></script>

<script src="/common.8e038663.js"></script>

<script src="/2.31115908.js"></script>

<script src="/3.2d89642c.js"></script>

<script src="/1be78505.2ec52951.js"></script>

<script src="/20ac7829.83a2b26c.js"></script>

<script src="/17896441.1541f792.js"></script>

<script src="/d500b917.c313d5dd.js"></script>


</body>
</html>