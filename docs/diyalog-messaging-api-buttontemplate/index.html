<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">


<title data-react-helmet="true">Button Mesaj Şablonu | Diyalog - Dlg Messenger</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="Diyalog - Dlg Messenger"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="export const Highlight = ({children, color}) =&gt; ("><meta data-react-helmet="true" property="og:description" content="export const Highlight = ({children, color}) =&gt; ("><meta data-react-helmet="true" property="og:url" content="https://diyalog-im.github.io/docs/diyalog-messaging-api-buttontemplate">

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon/favicon.ico">


<link rel="stylesheet" href="/styles.fcc23f2a.css">


<link rel="preload" href="/styles.8341f410.js" as="script">

<link rel="preload" href="/runtime~main.fdcc272c.js" as="script">

<link rel="preload" href="/main.904e3e3e.js" as="script">

<link rel="preload" href="/common.b8aa7914.js" as="script">

<link rel="preload" href="/2.7667e01c.js" as="script">

<link rel="preload" href="/3.6e6ee0e8.js" as="script">

<link rel="preload" href="/1be78505.14d94722.js" as="script">

<link rel="preload" href="/20ac7829.83a2b26c.js" as="script">

<link rel="preload" href="/17896441.6e39b10f.js" as="script">

<link rel="preload" href="/56fec9b3.6815dade.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/./img/logo-black@2x.png" alt="Diyalog Logo"><strong class="navbar__title">Diyalog - DLG Messenger</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/overview">Docs</a><a class="navbar__item navbar__link" href="/aboutus">About Us</a><a class="navbar__item navbar__link" href="/contactus">Contact Us</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/diyalog-im/diyalog-platform">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/./img/logo-black@2x.png" alt="Diyalog Logo"><strong class="navbar__title">Diyalog - DLG Messenger</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/overview">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/aboutus">About Us</a></li><li class="menu__list-item"><a class="menu__link" href="/contactus">Contact Us</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://github.com/diyalog-im/diyalog-platform">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="sidebarLogo_3ono"><img src="/./img/logo-black@2x.png" alt="Diyalog Logo"><strong>Diyalog - DLG Messenger</strong></div><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/getstarted">Getting Started</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Android</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/android_getting_started">How to configure Diyalog</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/android_tokenBaseAuth">Token Base Authentication</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/android_style">Diyalog Android SDK Style</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">iOS</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/iOS_getting_started">How to configure Diyalog</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/iOS_TokenBaseAuthentication">Token Base Authentication</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/iOS_RichView">RichView Notification Support</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Cordova plugin</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/cordova_HowToUseCordova">How to add Cordova plugin</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/cordova_CreatePlugin">How to create Cordova plugin</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/cordova_CreateIonicProject">How to create ionic project</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Web SDK</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/diyalogWeb_WebSdk">How to use WEB SDK</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/diyalogWeb_OpenDiyalogSDK">Use Web SDK Javascript from My Web App</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/diyalogWeb_OpenInDiyalogSDKAngularJSApp">Use Web SDK from AngularJS Web App</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/diyalogWeb_OpenInIFrame">Add Web App to an IFrame</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Messaging API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/diyalog-messaging-api-overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/diyalog-messaging-api-sendmessage-api">SendMessage API</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Templates</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/diyalog-messaging-api-textmessage">Text Message</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/diyalog-messaging-api-quickreplies">Quick Replies</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/diyalog-messaging-api-generictemplate">Generic Template</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/diyalog-messaging-api-buttontemplate">Button Template</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/diyalog-messaging-api-sendotp-api">SendOTP API</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/webhook">Webhooks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Operation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/ops_rancher_restart">Rancher 1.6 Operations</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Privacy and Terms</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/privacy">Diyalog (dlg) Messenger Legal Info</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Button Mesaj Şablonu</h1></header><div class="markdown"><p>Button Template mesaj şablonu kullanıcılarınıza metin ve butonlar içeren mesajlar gönderebilmenizi sağlayan mesaj şablonudur.<br>
Bu şablon ile kullanıcılarınıza maksimum 3 adet butonu olan mesajlar gönderebilirsiniz. Bu şablon müşterilerinize seçenek sunduğunuz mesajlar için kullanışlıdır.</p><img alt="" src="/img/messagingAPI/buttontemplate.png" height="150px"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="i̇stek-uriı"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#i̇stek-uriı" title="Direct link to heading">#</a>İstek URI&#x27;ı</h2><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-javascript codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">https</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token constant" style="color:rgb(130, 170, 255)">DIYALOG</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token constant" style="color:rgb(130, 170, 255)">SERVER</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token constant" style="color:rgb(130, 170, 255)">API</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token constant" style="color:rgb(130, 170, 255)">ENDPOINT</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">v1</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">bots</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">sendmessage</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token constant" style="color:rgb(130, 170, 255)">YOUR</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token constant" style="color:rgb(130, 170, 255)">BOT</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token constant" style="color:rgb(130, 170, 255)">ACCESS</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token constant" style="color:rgb(130, 170, 255)">TOKEN</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></div></code></pre></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="örnek-i̇stek"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#örnek-i̇stek" title="Direct link to heading">#</a>Örnek İstek</h4><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-powershell codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">curl -X POST -H &quot;Content-Type: application/json&quot; -d &#x27;{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &quot;recipient&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &quot;appCustomerId&quot;: &quot;123456789&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &quot;message&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;messageId&quot;:&quot;messageId-1&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &quot;attachment&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       &quot;type&quot;: &quot;template&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       &quot;payload&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         &quot;templateType&quot;: &quot;button&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         &quot;text&quot; : &quot;How can I help you?&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         &quot;messageId&quot;:&quot;messageId-1&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         &quot;buttons&quot; : [],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         &quot;buttonsV2&quot; : [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;type&quot; :&quot;postback&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;title&quot; : &quot;Send Me Receipt&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;payload&quot; : &quot;211&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;payloadHidden&quot; : true,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;payloadSeenByUser&quot; : &quot;Send me receipt&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;type&quot; :&quot;postback&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;title&quot; : &quot;Cancel Transaction&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;payload&quot; : &quot;211&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;payloadHidden&quot; : true,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;payloadSeenByUser&quot; : &quot;Cancel my transaction&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;type&quot; :&quot;web_url&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;title&quot; : &quot;New Transaction&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot;payload&quot; : &quot;https://dlgmessenger.com&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;elements&quot; : []</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &quot;quickReplies&quot; : [],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &quot;quickRepliesV2&quot; : []</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}&#x27; &quot;https://&lt;DIYALOG-SERVER-API-ENDPOINT&gt;/v1/bots/sendmessage/&lt;YOUR-BOT-ACCESS-TOKEN&gt;&quot;</span></div></code></pre></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="i̇stek-json-objesi-detayları"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#i̇stek-json-objesi-detayları" title="Direct link to heading">#</a>İstek Json Objesi Detayları</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="greencoloredtextrecipientgreencoloredtext"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#greencoloredtextrecipientgreencoloredtext" title="Direct link to heading">#</a><span style="color:#42b72a">recipient</span></h3><span style="color:#42b72a">receipient</span> objesi içerisinde mesajı hangi kullanıcınıza göndermek istiyorsanız belirtebilirsiniz. Bir müşterinize göndermek istiyorsanız api&#x27;ye <span style="color:#42b72a">appCustomerId</span> alanı ile müşteri numarasını iletmeli, bir çalışanınıza göndermek istiyorsanız <span style="color:#42b72a">appStaffId</span> alanı ile sicil numarasını iletmelisiniz.<p>Eğer mesajı göndermek istediğiniz müşteri veya çalışanın DLG id&#x27;sini biliyorsanız, <span style="color:#42b72a">id</span> alanını kullanabilirsiniz.</p><table><thead><tr><th>Alan</th><th>Tip</th><th>Açıklama</th><th>Zorunlu Alan</th></tr></thead><tbody><tr><td><span style="color:#42b72a">appCustomerId</span></td><td>String</td><td>Müşteri numarasıdır.</td><td>Opsiyonel</td></tr><tr><td><span style="color:#42b72a">appStaffId</span></td><td>String</td><td>Çalışan sicil numarasıdır.</td><td>Opsiyonel</td></tr><tr><td><span style="color:#42b72a">id</span></td><td>String</td><td>DLG tekil kullanıcı numarasıdır.</td><td>Opsiyonel</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="greencoloredtextmessagegreencoloredtext"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#greencoloredtextmessagegreencoloredtext" title="Direct link to heading">#</a><span style="color:#42b72a">message</span></h3><p>Button Template mesajı için mesajın içeriğinin girildiği <strong>message</strong> alanında <strong>text</strong> yerine <strong>attachment</strong> verilmesi ve bu alan içerisinde de
mesajın payload&#x27;u verilmesi gerekmektedir.<br>
İsteğe bağlı olarak yine DLG platformunun bu mesajla ilgili eventleri geri beslerken eventlerin hangi mesaj ile ilgili olduğunu
anlayabilmeniz için kendi sisteminizde bir mesaj numarası oluşturup bunu api&#x27;ye iletebilirsiniz. Eğer böyle bir id iletmezseniz DLG
sizin için bir id üretecek ve bu id&#x27;yi bu isteğin cevabında size iletecek ve tüm eventleri bu id ile size besleyecektir.<br>
İstekteki <strong>quickReplies</strong> ve <strong>quicRepliesV2</strong> alanları bu şablon için kullanılmamaktadır. Bu nedenle bu alanların değerini
boş array olarak vermelisiniz.</p><table><thead><tr><th>Alan</th><th>Tip</th><th>Açıklama</th><th>Zorunlu Alan</th></tr></thead><tbody><tr><td>messageId</td><td>String</td><td>Sisteminizde oluşturduğunuz tekil mesaj id&#x27;sidir. Tüm mesaj iletimleri ve cevapları vs. gibi eventleri DLG bu id ile size besler. Eğer id vermezseniz DLG sizin için bir id üretecek ve bu id üzerinden eventleri iletecektir.</td><td>Opsiyonel</td></tr><tr><td>attachment</td><td>Object</td><td>Mesajınızı içeriğini taşıyan <a href="#greencoloredtextattachmentgreencoloredtext">attachment</a> objesidir.</td><td>Evet</td></tr><tr><td>quickReplies</td><td>Array&lt;quickReply&gt;</td><td>Bu alan eski versiyondur. Bu şablonda hizlı cevap düğme array&#x27;i kullanılmaz. Boş array (<strong>&quot;quickReplies&quot; : []</strong>) olarak değer atanmalıdır.</td><td>Evet</td></tr><tr><td>quickRepliesV2</td><td>Array&lt;quickReplyV2&gt;</td><td>Bu şablonda hizlı cevap düğme array&#x27;i kullanılmaz. Boş array (<strong>&quot;quickRepliesV2&quot; : []</strong>) olarak değer atanmalıdır.</td><td>Evet</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="greencoloredtextattachmentgreencoloredtext"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#greencoloredtextattachmentgreencoloredtext" title="Direct link to heading">#</a><span style="color:#42b72a">attachment</span></h3><p><strong>attachment</strong> içerisinde metin dışında göndermek istediğiniz mesaj tiplerinin içeriklerini api&#x27;ye iletebilirsiniz. </p><table><thead><tr><th>Alan</th><th>Tip</th><th>Açıklama</th><th>Zorunlu Alan</th></tr></thead><tbody><tr><td>type</td><td>String</td><td>Değeri <strong>&quot;template&quot;</strong> olarak set edilmelidir.</td><td>Evet</td></tr><tr><td>payload</td><td>Object</td><td>Button template mesaj içeriğini taşiyan <a href="#greencoloredtextpayloadgreencoloredtext">payload</a> objesidir.</td><td>Evet</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="greencoloredtextpayloadgreencoloredtext"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#greencoloredtextpayloadgreencoloredtext" title="Direct link to heading">#</a><span style="color:#42b72a">payload</span></h3><p>Metin dışındaki mejaj türlerinde mesaj içeriğini <strong>payload</strong> alanı üzerinden api&#x27;ye iletebilirsiniz.</p><table><thead><tr><th>Alan</th><th>Tip</th><th>Açıklama</th><th>Zorunlu Alan</th></tr></thead><tbody><tr><td>templateType</td><td>String</td><td><strong>&quot;button&quot;</strong>  olarak set edilmelidir.</td><td>Evet</td></tr><tr><td>messageId</td><td>String</td><td>İletilen mesajınızın sisteminizde oluşturduğunuz tekil id&#x27;sidir. Bu mesaj içindeki düğmelere basıldığında bu id payload&#x27;unuza eklenerek size beslenir. Bu sayede kendi sisteminizde basılan düğmeyi ayırt edebileceğiniz ayrı bir veriye daha sahip olursunuz.</td><td>Evet</td></tr><tr><td>text</td><td>String</td><td>Mesajın metnidir.</td><td>Evet</td></tr><tr><td>buttons</td><td>Array&lt;button&gt;</td><td>Bu alan eski versiyondur. Değeri boş array [] olarak verilmelidir.</td><td>Evet</td></tr><tr><td>buttonsV2</td><td>Array&lt;<a href="#greencoloredtextbuttonv2greencoloredtext">buttonV2</a>&gt;</td><td>Mesaja eklemek istediğiniz buton tanımlarını taşıyan array&#x27;dir. Maksimum 3 adet buton destekler. 3&#x27;den fazla eklediğiniz butonlar istemcide görünmeyecektir. Bu nedenle bu array&#x27;e maksimum 3 buton eklenebilir.</td><td>Evet</td></tr><tr><td>elements</td><td>Array&lt;element&gt;</td><td>Bu alan button template mesaj şablonunda kullanılmamaktadır.Değeri boş array [] olarak verilmelidir.</td><td>Evet</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="greencoloredtextbuttonv2greencoloredtext"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#greencoloredtextbuttonv2greencoloredtext" title="Direct link to heading">#</a><span style="color:#42b72a">buttonV2</span></h3><table><thead><tr><th>Alan</th><th>Tip</th><th>Açıklama</th><th>Zorunlu Alan</th></tr></thead><tbody><tr><td>type</td><td>String</td><td>Butona basıldığında butonun davranışını belirler. <strong>&quot;postback&quot;</strong> ve <strong>&quot;web_url&quot;</strong> olarak iki türü vardır.</td><td>Evet</td></tr><tr><td>title</td><td>String</td><td>Müşteriye butonların üzerinde gösterilecek metindir.</td><td>Evet</td></tr><tr><td>payload</td><td>String</td><td>Bu alanda verdiğiniz data eğer buton tipi <strong>postback</strong> ise butona basıldığında size geri iletilir. Bu sayede müşterinin hangi butona bastığını anlayabilirsiniz. Eğer buton tipiniz <strong>&quot;web_url&quot;</strong> ise bu alanda kullanıcınızn açmasını istediğiniz uri adresini vermelisiniz. Kullanıcı düğmeye bastığında bu uri cihazda açılacaktır.</td><td>Evet</td></tr><tr><td>payloadHidden</td><td>Boolean</td><td>Bu flag <strong>postback</strong> tipi düğmeler için geçerlidir. Gerçekten mesajı ilettiğiniz müşterinin cihazından, payload geldiğinden emin olmak istiyorsanız bu flag&#x27;i true set etmeniz gerekiyor. Bu flag true ise mobil cihazda bulunan uygulama anahtarları ile payload imzalanacak ve sizin uygulamanıza iletilecektir. Tabi imzalanmış datayı çözebilmek için sizinde uygulama anahtarlarını biliyor olmanız gerekiyor.</td><td>Optional</td></tr><tr><td>payloadSeenByUser</td><td>String</td><td>Bu alan eğer müşteriye butona bastığında chat ekranında payload alanındaki değerden farklı bir mesaj göstermek isterseniz kullanacağınız alandır. Bu alanda verdiğiniz metin kullanıcı düğmeye bastığında chat ekranında görünür.</td><td>Optional</td></tr></tbody></table><span style="background-color:#da3d5f;border-radius:2px;color:#fff;padding:0.2rem">Önemli Not :</span><p>Kullanıcı mobil cihazından, gönderdiğiniz buton objesi olan bir mesajın butonuna bastığında, webhook yapısı üzerinden kullanıcının seçtiği butonun payload alanında verdiğiniz
değer uygulamanıza iletilir.  </p><p>Eğer <strong>payloadHidden</strong> değerini <strong>true</strong> yapmışsanız payload mobil istemcide kurumun kendi bildiği DLG platformunun bilmediği anahtarlar ile imzalanıp size o şekilde iletilir.
Bu sayede uygulamanız, gerçekten doğru mobil cihazdan buton seçiminin yapılmış olduğundan emin olabilir. Bunun için DLGSDK&#x27;nın çalıştığı mobil uygulamanızda imzalama işleminin yapılmış
olması gerekmektedir. Ayrıca sizin uygulamanızında aynı anahtarlara sahip olması ve imzalanmış payload&#x27;u deşifre edebiliyor olmanız gerekmektedir.</p><p>Bir diğer önemli konuda <a href="(#greencoloredtextpayloadgreencoloredtext)%3E">payload</a> objesi için verdiğiniz <span style="color:#42b72a">messageId</span> dir. Düğmeye basıldığında
bu alanın değeri payload ile birlikte aşağıdaki formatta uygulamanıza beslenir. Yani istek içerisinde
api&#x27;ye iletilen mesageId köşeli parantez içerisinde, payload&#x27;unuzla &quot;:&quot;  karakteri ile ayrılarak iletilir. </p><p><strong>Örneğin :</strong><br>
&quot;[messageId-74]:123456&quot;</p><p>Eğer payloadHidden true olarak set edilmiş olsaydı bu değer aşağıdaki gibi olacaktır. Yani payload değeri imzalanmış olarak iletilecektir.</p><p>&quot;[messageId-74]:12a22113123131213aaab444cb3c224bcb&quot;</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="dönen-yanıt-response"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#dönen-yanıt-response" title="Direct link to heading">#</a>Dönen Yanıt (Response)</h2><p>Başarılı sonuçlanan API istekleri <strong>http-2XX</strong> cevap kodu ile cevap json objesini döner.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="yanıt-örneği"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#yanıt-örneği" title="Direct link to heading">#</a>Yanıt Örneği</h3><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-json codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token property">&quot;recipient_id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2074022437&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token property">&quot;message_id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;-7523925115459309081&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/diyalog-messaging-api-generictemplate"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« Generic Mesaj Şablonu</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/diyalog-messaging-api-sendotp-api"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">SendOTP API »</h4></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#i̇stek-uriı" class="contents__link">İstek URI&#39;ı</a></li><li><a href="#i̇stek-json-objesi-detayları" class="contents__link">İstek Json Objesi Detayları</a><ul><li><a href="#greencoloredtextrecipientgreencoloredtext" class="contents__link"><greencoloredtext>recipient</greencoloredtext></a></li><li><a href="#greencoloredtextmessagegreencoloredtext" class="contents__link"><greencoloredtext>message</greencoloredtext></a></li><li><a href="#greencoloredtextattachmentgreencoloredtext" class="contents__link"><greencoloredtext>attachment</greencoloredtext></a></li><li><a href="#greencoloredtextpayloadgreencoloredtext" class="contents__link"><greencoloredtext>payload</greencoloredtext></a></li><li><a href="#greencoloredtextbuttonv2greencoloredtext" class="contents__link"><greencoloredtext>buttonV2</greencoloredtext></a></li></ul></li><li><a href="#dönen-yanıt-response" class="contents__link">Dönen Yanıt (Response)</a><ul><li><a href="#yanıt-örneği" class="contents__link">Yanıt Örneği</a></li></ul></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Learn</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/overview">Docs</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/diyalog-im/diyalog-platform" target="_blank" href="https://github.com/diyalog-im/diyalog-platform">GitHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Company</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/aboutus">About Us</a></li><li class="footer__item"><a class="footer__link-item" href="/contactus">Contact Us</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/privacy">Privacy and Terms</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Downloads</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://play.google.com/store/apps/details?id=im.diyalog.diyalogapp" target="_blank" href="https://play.google.com/store/apps/details?id=im.diyalog.diyalogapp">Android</a></li><li class="footer__item"><a class="footer__link-item" to="https://apps.apple.com/us/app/dlg-messenger/id1449572267?ls=1" target="_blank" href="https://apps.apple.com/us/app/dlg-messenger/id1449572267?ls=1">iPhone</a></li><li class="footer__item"><a class="footer__link-item" to="https://web.dlgmessenger.com" target="_blank" href="https://web.dlgmessenger.com">Web App</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 Diyalog - All Rights Reserved</div></div></div></footer>
</div>

<script src="/styles.8341f410.js"></script>

<script src="/runtime~main.fdcc272c.js"></script>

<script src="/main.904e3e3e.js"></script>

<script src="/common.b8aa7914.js"></script>

<script src="/2.7667e01c.js"></script>

<script src="/3.6e6ee0e8.js"></script>

<script src="/1be78505.14d94722.js"></script>

<script src="/20ac7829.83a2b26c.js"></script>

<script src="/17896441.6e39b10f.js"></script>

<script src="/56fec9b3.6815dade.js"></script>


</body>
</html>