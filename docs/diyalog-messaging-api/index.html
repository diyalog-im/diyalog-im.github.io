<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">


<title data-react-helmet="true">Messaging API | Diyalog - Dlg Messenger</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="Diyalog - Dlg Messenger"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="export const Highlight = ({children, color}) =&gt; ("><meta data-react-helmet="true" property="og:description" content="export const Highlight = ({children, color}) =&gt; ("><meta data-react-helmet="true" property="og:url" content="https://diyalog-im.github.io/docs/diyalog-messaging-api">

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon/favicon.ico">


<link rel="stylesheet" href="/styles.fcc23f2a.css">


<link rel="preload" href="/styles.74035797.js" as="script">

<link rel="preload" href="/runtime~main.cc38280f.js" as="script">

<link rel="preload" href="/main.81b9134c.js" as="script">

<link rel="preload" href="/common.271438c5.js" as="script">

<link rel="preload" href="/2.0568e45b.js" as="script">

<link rel="preload" href="/3.d7b193a1.js" as="script">

<link rel="preload" href="/1be78505.61f3ef3a.js" as="script">

<link rel="preload" href="/20ac7829.d0e01c02.js" as="script">

<link rel="preload" href="/17896441.346027b7.js" as="script">

<link rel="preload" href="/533d8a8b.1ae653e2.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/./img/logo-black@2x.png" alt="Diyalog Logo"><strong class="navbar__title">Diyalog - DLG Messenger</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/overview">Docs</a><a class="navbar__item navbar__link" href="/aboutus">About Us</a><a class="navbar__item navbar__link" href="/contactus">Contact Us</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/diyalog-im/diyalog-platform">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/./img/logo-black@2x.png" alt="Diyalog Logo"><strong class="navbar__title">Diyalog - DLG Messenger</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/overview">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/aboutus">About Us</a></li><li class="menu__list-item"><a class="menu__link" href="/contactus">Contact Us</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://github.com/diyalog-im/diyalog-platform">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Messaging API</h1></header><div class="markdown"><p>Diyalog Messenger Platform ile kullanıcılarınıza metin, ses, görüntü, video ve dosya gibi birçok içerik türü iletebilirsiniz.</p><p>Platformda önceden tanımlanmış bazı mesaj şablonları da vardır.
Bu yapılandırılmış mesajları, kullanıcılarınıza iyi bir kullanıcı deneyimi için gönderebilirsiniz.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="desteklenen-mesaj-türleri"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#desteklenen-mesaj-türleri" title="Direct link to heading">#</a>Desteklenen Mesaj Türleri</h5><ul><li>Metin</li><li>Medya (resim, ses, görüntü, videove dosya)</li><li>Generic Template</li><li>Button Template</li><li>Quick Reply Template</li><li>Tek Seferlik Şifre (OTP-MOK)</li></ul><p>Metin, medya ve hazır şablon mesaj iletmek için <a href="#sendmessage-api">sendmessage apisini,</a> OTP mesajlar için <a href="#sendmok-api">sendmok apisini</a> kullanabilirsiniz.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="uri-formatı"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#uri-formatı" title="Direct link to heading">#</a>URI Formatı</h2><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-javascript codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">https</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token constant" style="color:rgb(130, 170, 255)">DIYALOG</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token constant" style="color:rgb(130, 170, 255)">SERVER</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token constant" style="color:rgb(130, 170, 255)">API</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token constant" style="color:rgb(130, 170, 255)">ENDPOINT</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">v1</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">bots</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token constant" style="color:rgb(130, 170, 255)">API</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token constant" style="color:rgb(130, 170, 255)">NAME</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token constant" style="color:rgb(130, 170, 255)">YOUR</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token constant" style="color:rgb(130, 170, 255)">BOT</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token constant" style="color:rgb(130, 170, 255)">ACCESS</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token constant" style="color:rgb(130, 170, 255)">TOKEN</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></div></code></pre></div><blockquote><p><strong>DIYALOG-SERVER-API-ENDPOINT :</strong> Diyalog sunucusun api endpoint adresidir. Örneğin <strong>api.dlgmessenger.com</strong><br>
<strong>API-NAME :</strong> Api adıdır.<br>
<strong>YOUR-BOT-ACCESS-TOKEN :</strong> Diyalog Platformunda uygulamalar üzerinden kullanıcılarınıza tüm mesajları sizin için
Platformun yöneticisi tarafından oluşturulan bir <strong>bot</strong>  kullanıcısı üzerinden gönderebilirsiniz.
İsterseniz tüm uygulamalarınızdan sadece bir bot üzerinden mesajlar gönderebilir veya uygulamalarınızın fonksiyonelitesine göre
farklı botlar yaratıp, her uygulamadan farklı bot aracılığı ile mesaj gönderebilirsiniz.
Yaratılan Bot, kullanıcılarınızın mobil cihazında bir kişi gibi görünecek ve siz bu kişi aracılığı ile uygulamanız ve
müşteriniz arasında bir mesajlaşma yapabilir durumda olacaksınız.<br>
Her oluşturulan bot&#x27;un bir token&#x27;ı vardır. Bu token&#x27;ı Diyalog yöneticinizden almanız ve URI&#x27;ın sonuna eklemeniz gerekmektedir.
Diyalog sunucusu mesajı iletirken token&#x27;ı algılar ve hangi bot üzerinden kullanıcıya mesaj göndereceğini bulur ve kullanıcıya mesajı iletir.<br>
Bu token gizlidir. Eğer yetkisi olmayan biri tarafından bu token alınırsa sizin bot&#x27;unuz üzerinden kendi mesajlarını iletebilir. Bu nedenle güvenliğinin sağlanması gerekmektedir.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="örnek-http-i̇stek"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#örnek-http-i̇stek" title="Direct link to heading">#</a>Örnek HTTP İstek</h5><p>Aşağıda komut satırından <strong>curl</strong> ile çalıştırabileceğiniz örnek bir http isteğini görebilirsiniz.   </p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-powershell codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">curl -X POST -H &quot;Content-Type: application/json&quot; -d &#x27;{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &quot;recipient&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       &quot;appCustomerId&quot;:&quot;1231231&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   &quot;message&quot;:{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       &quot;text&quot;:&quot;hello world&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       &quot;messageId&quot;: &quot;msg-id-123-112233&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       &quot;quick_replies&quot;:[]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   }</span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">}&#x27; &quot;https://api.dlgmessenger.com/v1/bots/sendmessage/c2dc9bf3e0c3218e9ab22b56002e4644&quot;</span></div></code></pre></div><p>İstektede görülebildiği üzere istek URL&#x27;i <span style="background-color:#e0e0e0;border-radius:2px;padding:0.2rem">https<span>://</span>api.dlgmessenger.com/v1/bots/sendmessage/c2dc9bf3e0c3218e9ab22b56002e4644</span>
olarak verilmiştir. Bu url&#x27;e yine yukarıdaki istekte görüleceği üzere json objesi <strong>POST</strong> metodu ile gönderilir. </p><p>Bu endpoint adresi parçalarsak;<br>
Api Server : <span style="background-color:#1877F2;border-radius:2px;color:#fff;padding:0.2rem">api.dlgmessenger.com</span><br>
Api Adı    : <span style="background-color:#1877F2;border-radius:2px;color:#fff;padding:0.2rem">/v1/bots/sendmessage/</span><br>
Bot token  : <span style="background-color:#1877F2;border-radius:2px;color:#fff;padding:0.2rem">c2dc9bf3e0c3218e9ab22b56002e4644</span></p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="sendmessage-api"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#sendmessage-api" title="Direct link to heading">#</a>sendmessage API</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="request"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#request" title="Direct link to heading">#</a>Request</h3><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="i̇stek-parametreleri"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#i̇stek-parametreleri" title="Direct link to heading">#</a>İstek Parametreleri</h5><p>Api isteği iki parametre almaktadır. Bu parametreler objedir ve kendi içinde değişen parametreler alabilmektedir. <strong>recipient</strong> objesi mesajın alıcısının verildiği
obje, <strong>message</strong> objesi ise mesajın içeriğinin verildiği parametredir. </p><table><thead><tr><th>Parametre</th><th>Tür</th><th>Tanım</th><th>Zorunlu</th></tr></thead><tbody><tr><td><span style="background-color:#25c2a0;border-radius:2px;color:#fff;padding:0.2rem">recipient</span></td><td>Object</td><td>Mesaj alıcı objesi</td><td>yes</td></tr><tr><td><span style="background-color:#25c2a0;border-radius:2px;color:#fff;padding:0.2rem">message</span></td><td>Object</td><td>Mesaj içerik objesi</td><td>yes</td></tr></tbody></table><p>Temel olarak api isteklerini yukarıdaki objelerden oluşan bir json objesi olmalıdır. </p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-json codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;recipient&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;message&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="response"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#response" title="Direct link to heading">#</a>Response</h3><p>Başarılı sonuçlanan API istekleri http 200 cevap kodu ile cevap json objesini döner.
Bu cevap içerisinde mesasın iletildiği kullanıcının Diyalog tekil id&#x27;si ve yine mesaj için Diyalog tarafından
üretilen tekil mesaj id&#x27;si yer alır.</p><blockquote><p>Örneğin</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-json codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;recipient_id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2074022437&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;message_id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;-7523925115459309081&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="parametreler"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#parametreler" title="Direct link to heading">#</a>Parametreler</h5><table><thead><tr><th>Parametre</th><th>Tür</th><th>Tanım</th></tr></thead><tbody><tr><td>recipient_id</td><td>String</td><td>Tekil Diyalog kullanıcı id&#x27;sidir. Bu Diyalog&#x27;a özgü oluşturulan id&#x27;dir. Müşteri numarası değildir.</td></tr><tr><td>message_id</td><td>String</td><td>İletilen mesajın id&#x27;sidir. Eğer request içerisinde siz bir messageId vermişseniz bu id bu alanda size geri iletilir. Eğer bir id vermemişseniz Diyalog sisteminde oluşturulan tekil id bu alandan döner.</td></tr></tbody></table></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="recipient"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#recipient" title="Direct link to heading">#</a>recipient</h3><blockquote><p>Mesajı iletmek istediğiniz kullanıcı bilgisini, <strong>recipient</strong> objesi içerisinde api&#x27;ye iletebilirsiniz.</p><table><thead><tr><th>Parametre</th><th>Tür</th><th>Tanım</th><th>Zorunlu</th></tr></thead><tbody><tr><td>recipient.id</td><td>String</td><td>Diyalog kullanıcı numarası</td><td>Optional</td></tr><tr><td>recipient.appCustomerId</td><td>String</td><td>Sisteminizdeki müşteri numarasıdır.</td><td>Optional</td></tr></tbody></table><p>İletinin alıcısını bildirir. İstek <em>id</em>, <em>appCustomerId</em> öğelerinden birini içermelidir. </p><p>Diyalog sisteminde kullanıcıların iki tekil id&#x27;si vardır. Bunlardan biri diyalog id&#x27;sidir.
Bu id gelişigüzel oluşturulur. Diğer id ise platformu kullanan kurumların kendi bildikleri müşteri numarasıdır.
Diyalog sisteminde bir kullanıcı yaratıldığında Diyalog id&#x27;si ve müşteri numarası ile kullanıcı yaratılır. Bu nedenle bir kullanıcınıza
mesaj iletmek için bu iki id&#x27;den birini kullanabilirisiniz. Uygulamalarınız üzerinden mesaj gönderirken en doğrusu Diyalog id&#x27;sini (id) kullanmak yerine kendi bildiğiniz
id&#x27;yi yani müşteri numarasını (appCustomerId) kullanmaktır. Bu sayede Diyalog özelinde bir veriye erişim ihtiyacınız olmayacaktır.</p><p><strong>recipient.appCustomerId </strong>: Kurumun kullanıdığı müşteri numarası<br>
<strong>recipient.id</strong> : Diyalog sisteminde oluşturulan müşterinin veya kullanıcının tekil numarasıdır. Eğe bu id&#x27;yi biliyorsanız bu parametreyi kullanabilirsiniz. </p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="örnek-recipient-json-objesi"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#örnek-recipient-json-objesi" title="Direct link to heading">#</a>Örnek recipient json objesi</h5><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-json codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;recipient&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;appCustomerId&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;123456789&quot;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;message&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span></div></code></pre></div></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="message"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#message" title="Direct link to heading">#</a>message</h3><blockquote><p>Kullanıcılarınıza iletmek istediğiniz mesajların içeriğini bu obje içerisinde api&#x27;ye iletebilirsiniz.
message objesi text, attachment, quickReplies,quickRepliesV2 temel elementlerinden oluşmaktadır.
text alanı veya attachment elementlerinden aynı anda sadece birini kullanabilirsiniz.
text elementi kullandığınızda bu sizin kullanıcıya sadece metin mesaj göndermek istediğiniz anlamına gelir.
text yerine attachment kullanırsanız bu kullanıya medya, dosya veya hazır şablon mesajlardan birini göndermek istediğiniz anlamına gelir.</p><p>Eğer metin göndermek istiyorsanız bu metne &quot;evet&quot;-&quot;hayır&quot; gibi hızlı cevap düğmeleri ekleyebilirsiniz.
bu düğmeler için <strong>quickRepliesV2</strong> objesini kullanabilirisiniz.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="örnek-message-json-objesi"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#örnek-message-json-objesi" title="Direct link to heading">#</a>Örnek message json objesi</h5><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-json codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;recipient&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;message&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;messageId&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;msg-id-123-1122-1111&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;text&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;hello world ¯\_(ツ)_/¯&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;quickReplies&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;quickRepliesV2&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><table><thead><tr><th>Parametre</th><th>Tür</th><th>Tanım</th><th>Zorunlu</th></tr></thead><tbody><tr><td>message.messageId</td><td>String</td><td>Sisteminizde oluşturduğunuz tekil mesaj id&#x27;sidir. Tüm mesaj iletimleri ve cevapları vs. gibi eventleri Diyalog bu id ile size besler. Eğer id vermezseniz Diyalog sizin için bir id üretecek ve bu id üzerinden eventleri iletecektir.</td><td>Optional</td></tr><tr><td>message.text</td><td>String</td><td>Eğer kullanıcıya yalnızca metin mesaj göndermek isterseniz bu parametreyi apiye iletmeniz gerekiyor. Metin yerine diğer türlerde mesaj iletmek istiyorsanız <strong>text</strong> parametresi yerine <strong>attachment</strong> parametresini apiye vermelisiniz.</td><td>Optional</td></tr><tr><td><a href="#attachment">message.attachment</a></td><td>Object</td><td>Metin dışındaki diğer türlerdeki mesajların içeriklerini bu parametrede api&#x27;ye iletebilirsiniz..</td><td>Optional</td></tr><tr><td>message.quickReplies</td><td>Array&lt;<a href="#quickreply-deprecated">quickReply</a>&gt;</td><td>Bu parametre eski versiyondur fakat zorunlu olduğu için tüm isteklere <strong>&quot;quickReplies&quot; : []</strong> olarak eklenmelidir. İçeriği boş olarak verilmelidir.</td><td>yes</td></tr><tr><td>message.quickRepliesV2</td><td>Array&lt;<a href="#quickreplyv2">quickReplyV2</a>&gt;</td><td>quickReplies parametresinin 2. versiyonudur. Eğer metin mesaja hızlı cevap butonları eklemek için bu parametreyi kullanabilirsiniz.</td><td>yes</td></tr></tbody></table><span style="background-color:#da3d5f;border-radius:2px;color:#fff;padding:0.2rem">Önemli Not :</span><p>quickReplies, quickRepliesV2&#x27;nin eski versiyonudur. Yeni versiyon mobil istemciler quickRepliesV2&#x27;yi kullanmaktadır.
Fakat yinede eski versiyonu <strong>&quot;quickReplies&quot; : []</strong> olacak şekilde her isteğe eklemelisiniz. Ayrıca buton eklenmese bile <strong>&quot;quickRepliesV2&quot; : []&quot;</strong>
elementi isteğe eklenmelidir. Aksi halde sunucuda <strong>malformed request error</strong> hatası alırsınız. </p><p>Aşağıda metin mesaj gönderimi için örnek bir json objesi görebilirsiniz. Bu istekte <span style="background-color:#1877F2;border-radius:2px;color:#fff;padding:0.2rem">123456789</span>
müşteri numaralı kullanıcıya <span style="background-color:#1877F2;border-radius:2px;color:#fff;padding:0.2rem">hello world ¯_(ツ)_/¯</span> mesajı iletilmektedir.  </p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-json codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;recipient&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;appCustomerId&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;123456789&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;message&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;messageId&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;msg-id-123-1122-1111&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;text&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;hello world ¯\_(ツ)_/¯&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;quickReplies&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;quickRepliesV2&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="quickreply-deprecated"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#quickreply-deprecated" title="Direct link to heading">#</a>quickReply (deprecated)</h3><blockquote><p>Bu obje artık kullanılmamaktadır.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="quickreplyv2"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#quickreplyv2" title="Direct link to heading">#</a>quickReplyV2</h3><blockquote><p>Metin mesajlarınızın altına hızlı cevap düğmeleri eklemek için bu objeyi kullanabilirsiniz. </p><table><thead><tr><th>Property</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>contentType</td><td>String</td><td>Bu değer <strong>text</strong> olmalıdır.</td><td>yes</td></tr><tr><td>title</td><td>String</td><td>Düğmenin üzerinde yazmasını istediğiniz metindir.</td><td>yes</td></tr><tr><td>payload</td><td>String</td><td>Bu değer kullanıcı bu düğmeye bastığında uygulamanıza dönmesini istediğiniz değerdir.</td><td>yes</td></tr><tr><td>payloadHidden</td><td>Boolean</td><td>Değeri <strong>true</strong> veya <strong>false</strong> olabilir. Eğer mobil istemci destekliyorsa, payload mobil istemcideki imzalama yöntemi ile imzalanır ve size payload yerine bu imzalanmış değer döner. Bu sayede uygulamanıza dönen imzalanmış payload&#x27;u açarak gerçekten bu değerin doğru istemciden geldiğini kontrol edebilirsiniz.</td><td>Optional</td></tr><tr><td>payloadSeenByUser</td><td>String</td><td>Kullanıcının bu düğmeye bastığında chat ekranında görmesini istediğiniz değerdir. Bu değer verilmezse payload paramteresindeki değeri müşteri görecektir.</td><td>Optional</td></tr><tr><td>image_url</td><td>String</td><td>Eğer düğmeye bir icon vermek isterseniz buraya icon imajınızın url&#x27;sini verebilirisiniz.</td><td>Optional</td></tr></tbody></table></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="attachment"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#attachment" title="Direct link to heading">#</a>attachment</h3><blockquote><p>Eğer metin dışında aşağıda detayları verilecek olan türlerde mesaj göndermek istiyorsanız
<strong>text</strong> elementi yerine <strong>attachment</strong> elementini kullanmalısınız. </p><p><strong>attachment</strong> elementi kullanarak kullanıcılarınıza aşağıdaki türlerde mesaj iletebilirsiniz.</p><ul><li>Medya mesajlar : resim, ses, video veya dosya.</li><li>Hazır şablon mesajlar : generic template, button template</li></ul><table><thead><tr><th>Parametre</th><th>Tür</th><th>Tanım</th><th>Zorunlu</th></tr></thead><tbody><tr><td>attachment.type</td><td>String</td><td>attachment türleri, &quot;image&quot;, &quot;audio&quot;, &quot;video&quot;, &quot;file&quot; veya &quot;template&quot;</td><td>yes</td></tr><tr><td><a href="#payload">attachment.payload</a></td><td>Object</td><td>iletilen ekin içeriğidir.</td><td>yes</td></tr></tbody></table></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="payload"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#payload" title="Direct link to heading">#</a>payload</h3><blockquote><table><thead><tr><th>Property</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>type</td><td>String</td><td>Bu alan template&#x27;in hangi türde olduğunu gösterir.  <strong>button</strong> , <strong>generic</strong> değerlerinden biri olabilir.</td><td>yes</td></tr><tr><td>text</td><td>String</td><td>Bu alan button template için kullanılmaktadır. Button template için düğmelerin üzerinde m</td><td>Optional</td></tr><tr><td>buttons</td><td>Array&lt;<a href="#button-deprecated">button</a>&gt;</td><td>Bu alan kullanımdan kalkmıştır. Ama yinede api çağırılırken boş Array olarak yani [] olarak isteğe eklenmelidir.</td><td>yes</td></tr><tr><td>buttonsV2</td><td>Array&lt;<a href="#buttonv2">buttonV2</a>&gt;</td><td>Button template mesajının butonlarını bu alan ile tanımlayabilirsiniz. Maksimum 3 adet butonu array içinde verebilirsiniz. Generic template için bu alan boş array olarak verilmelidir.</td><td>yes</td></tr><tr><td>elements</td><td>Array&lt;<a href="#element">element</a>&gt;</td><td>Bu alan generic template mesajı için kullanılır. Button template için boş array olarak verilmelidir.</td><td>yes</td></tr></tbody></table></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="button-deprecated"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#button-deprecated" title="Direct link to heading">#</a>button (Deprecated)</h3><blockquote><p>Kullanımdan kalkmıştır. Buton eklemek için <a href="#buttonv2">buttonV2&#x27;yi</a> kullanınız.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="buttonv2"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#buttonv2" title="Direct link to heading">#</a>buttonV2</h3><blockquote><p>Eğer button template veya generic template mesajınıza buton koymak istiyorsanız buttonV2 objesinden faydalanabilirsiniz.</p><table><thead><tr><th>Parametre</th><th>Tür</th><th>Tanım</th><th>Zorunlu</th></tr></thead><tbody><tr><td>type</td><td>String</td><td>Butona basıldığında butonun davranışını belirler. <strong>web_url</strong> ve <strong>postback</strong> olarak iki türü vardır.</td><td>yes</td></tr><tr><td>title</td><td>String</td><td>Müşteriye butonların üzerinde gösterilecek metindir.</td><td>yes</td></tr><tr><td>payload</td><td>String</td><td>Bu alanda verdiğiniz data eğer buton tipi <strong>postback</strong> ise butona basıldığında size geri iletilir. Bu sayede müşterinin hangi butona bastığını alnayabilirsiniz.</td><td>yes</td></tr><tr><td>payloadHidden</td><td>Boolean</td><td>Bu flag <strong>postback</strong> tipi düğmeler için geçerlidir. Gerçekten mesajı ilettiğiniz müşterinin cihazından payload geldiğinden emin olmak istiyorsanız bu flag&#x27;i true set etmeniz gerekiyor. Bu flag true ise mobil cihazda cihazda bulunan uygulama anahtarları ile payload&#x27;ın imzalanacak ve sizin uygulamanıza iletilecektir. Tabi imzalanmış datayı çözebilmek için sizinde uygulama anahtarlarını biliyor olmanız gerekiyor.</td><td>Optional</td></tr><tr><td>payloadSeenByUser</td><td>String</td><td>Bu alan eğer müşteriy butona bastığında chat ekranında farklı bir mesaj göstermek isterseniz kullanacağınız alandır. Bu alanda verdiğiniz metin kullanıcı düğmeye bastığında chat ekranında görünür.</td><td>Optional</td></tr></tbody></table><p><strong>Buton türleri :</strong><br>
<strong>postback :</strong> Butona basıldığında butonun payload&#x27;unu mesajı göndren uygulamaya döner.<br>
<strong>web_url :</strong> payload alanında bir web url adresi olması beklenir. Butona basıldığında mobil cihazdaki browser&#x27;da bu web url&#x27;sini açar.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="element"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#element" title="Direct link to heading">#</a>element</h3><blockquote><p>Element generic template mesajının yapı taşlarından biridir. Generic template türünde mesajlar bir veya birden fazla element&#x27;ten oluşabilir.
Bir element bir görsel, metin başlığı, metin ve en az 0 an fazla 3 butondan oluşur.  </p><p>Örnek bir element&#x27;in görünümü aşaıdaki şekildedir.</p><img alt="" src="/img/messagingAPI/genericTemplateSS.png" height="250px"><p>Generic template mesajın payload&#x27;una birden fazla element ekleyerek atlıkarınca türünde mesaj oluşturabilirsiniz.</p><table><thead><tr><th>Parametre</th><th>Tür</th><th>Tanım</th><th>Zorunlu</th></tr></thead><tbody><tr><td>title</td><td>String</td><td>Mesajda başlık olarak görünmesini istediğiniz metindir.</td><td>Optional</td></tr><tr><td>subtitle</td><td>String</td><td>Mesajda metin olarak görünmesini istediğiniz metindir.</td><td>Optional</td></tr><tr><td>imageUrl</td><td>String</td><td>Mesajın görsel bölümünde görünmesini istediğiniz görselin url adresidir.</td><td>Optional</td></tr><tr><td>buttons</td><td>Array&lt;<a href="#button-deprecated">button</a>&gt;</td><td>Bu alan kullanımdan kalkmıştır. Ama yinede api çağırılırken boş Array olarak yani [] olarak isteğe eklenmelidir.</td><td>yes</td></tr><tr><td>buttonsV2</td><td>Array&lt;<a href="#buttonv2">buttonV2</a>&gt;</td><td>Mesajınıza butonları bu alanı kullanarak ekleyebilirsiniz. Maksimum 3 adet butonu array içinde verebilirsiniz.</td><td>yes</td></tr></tbody></table></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="sendmessage-api-1"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#sendmessage-api-1" title="Direct link to heading">#</a>sendmessage API</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="request-1"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#request-1" title="Direct link to heading">#</a>Request</h3><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="şablon-mesajlar"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#şablon-mesajlar" title="Direct link to heading">#</a>Şablon Mesajlar</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="generic"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#generic" title="Direct link to heading">#</a>Generic</h3><img alt="" src="/img/messagingAPI/genericTemplateSS.png" height="300px"><p>The generic template allows you to send a structured message that includes an image, text and buttons. A generic template with multiple templates described in the elements array will send a horizontally scrollable carousel of items, each composed of an image, text and buttons. For complete implementation details, see Generic Template.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="request-uri"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#request-uri" title="Direct link to heading">#</a>Request URI</h5><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-undefined codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">https://&lt;DIYALOG-SERVER-API-ENDPOINT&gt;/v1/bots/sendmessage/&lt;YOUR-BOT-ACCESS-TOKEN&gt;</span></div></code></pre></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="example-request"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#example-request" title="Direct link to heading">#</a>Example Request</h5><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-bash codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> -X POST -H </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Content-Type: application/json&quot;</span><span class="token plain"> -d </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    &quot;recipient&quot;:{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">        &quot;appCustomerId&quot;:&quot;1231231&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    &quot;message&quot;:{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">        &quot;attachment&quot;:{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">            &quot;type&quot;:&quot;template&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">            &quot;payload&quot;:{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                &quot;template_type&quot;:&quot;generic&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                &quot;elements&quot;:[</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                        &quot;title&quot;:&quot;Your Holiday Offer&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                        &quot;image_url&quot;:&quot;https://diyalog.im/app/testmessage/testimages/generictemplate-6.jpg&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                        &quot;subtitle&quot;:&quot;We have a special holiday offer for you. This holiday is for you.&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                        &quot;default_action&quot;:{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                            &quot;type&quot;:&quot;web_url&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                            &quot;url&quot;:&quot;https://defaulaction.com&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                            &quot;webview_height_ratio&quot;:&quot;FULL&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                        },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                        &quot;buttons&quot;:[</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                            {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                                &quot;type&quot;:&quot;web_url&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                                &quot;title&quot;:&quot;I am interested&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                                &quot;payload&quot;:&quot;https://isbank.com.tr&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                            },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                            {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                                &quot;type&quot;:&quot;postback&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                                &quot;title&quot;:&quot;Cancel&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                                &quot;payload&quot;:&quot;cancelled1&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                        ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                &quot;buttons&quot;:[]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">        },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">        &quot;quick_replies&quot;:[]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">}&#x27;</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://&lt;DIYALOG-SERVER-API-ENDPOINT&gt;/v1/bots/sendmessage/&lt;YOUR-BOT-ACCESS-TOKEN&gt;&quot;</span></div></code></pre></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="example-response"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#example-response" title="Direct link to heading">#</a>Example Response</h5><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-json codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token property">&quot;recipient_id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2074022437&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token property">&quot;message_id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;-7523925115459309081&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="recipient-1"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#recipient-1" title="Direct link to heading">#</a><em>recipient</em></h5><p>It declares the recipient of the message. Request must include one of <em>id</em>, <em>appCustomerId</em></p><table><thead><tr><th>Property</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>It is id of user in Diyalog platform. If you know it, you can directly use Diyalog user id.</td><td>Optional</td></tr><tr><td>appCustomerId</td><td>String</td><td>You can use direct customer id of your system. But Diyalog seesion should be created with this customer id. If you are using Token base authentication of DiyalogSDK in your client application, system will create user and save the customer id.</td><td>Optional</td></tr></tbody></table><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="message-1"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#message-1" title="Direct link to heading">#</a><em>message</em></h5><table><thead><tr><th>Property</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>attachment</td><td>Object</td><td>It contains payload od the generic template content</td><td>yes</td></tr><tr><td>quick_replies</td><td>Array&lt;<a href="#quick_reply">quick_reply</a>&gt;</td><td>This property will not used in generic template. It should be set empty array. []</td><td>yes</td></tr></tbody></table><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="messageattachment"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#messageattachment" title="Direct link to heading">#</a><em>message.attachment</em></h5><table><thead><tr><th>Property</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>type</td><td>String</td><td>Value must be <strong>template</strong></td><td>yes</td></tr><tr><td>payload</td><td>Object</td><td>Payload of the generic template</td><td>yes</td></tr></tbody></table><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="messageattachmentpayload"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#messageattachmentpayload" title="Direct link to heading">#</a><em>message.attachment.payload</em></h5><table><thead><tr><th>Property</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>template_type</td><td>String</td><td>Value must be <strong>generic</strong></td><td>yes</td></tr><tr><td>elements</td><td>Array&lt;<a href="#messageattachmentpayloadelements">element</a>&gt;</td><td>An array of element objects that describe instances of the generic template to be sent. Specifying multiple elements will send a horizontally scrollable carousel of templates. A maximum of 10 elements is supported.</td><td>yes</td></tr><tr><td>buttons</td><td>Array&lt;<a href="#button">button</a>&gt;</td><td>This property will not used in generic template. It should be set empty array. []</td><td>yes</td></tr></tbody></table><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="messageattachmentpayloadelements"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#messageattachmentpayloadelements" title="Direct link to heading">#</a><em>message.attachment.payload.elements</em></h5><table><thead><tr><th>Property</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>title</td><td>String</td><td>The title to display in the template.</td><td>Optional</td></tr><tr><td>subtitle</td><td>String</td><td>The subtitle to display in the template.</td><td>Optional</td></tr><tr><td>image_url</td><td>String</td><td>The URL of the image to display in the template.</td><td>Optional</td></tr><tr><td>default_action</td><td>Object (<a href="#default_action">default_action</a>)</td><td>The default action executed when the template is tapped.</td><td>Optional</td></tr><tr><td>buttons</td><td>Array&lt;<a href="#button">button</a>&gt;</td><td>An array of buttons to append to the template. A maximum of 3 buttons per element is supported. If you don&#x27;t add any button you should set empty array [].</td><td>yes</td></tr></tbody></table><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="default_action"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#default_action" title="Direct link to heading">#</a><em>default_action</em></h5><table><thead><tr><th>Property</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>type</td><td>String</td><td>Default action is only support url button. Value must be &quot;web_url&quot;.</td><td>yes</td></tr><tr><td>url</td><td>String</td><td>The url address that will open when tapped to content</td><td>yes</td></tr><tr><td>webview_height_ratio</td><td>String</td><td>Value must be *FULL&quot;</td><td>yes</td></tr></tbody></table><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="button"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#button" title="Direct link to heading">#</a><em>button</em></h5><table><thead><tr><th>Property</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>type</td><td>String</td><td>Type of the button. It can be <strong>web_url</strong> and <strong>postback</strong></td><td>yes</td></tr><tr><td>title</td><td>String</td><td>Button title that will show in the button text.</td><td>yes</td></tr><tr><td>payload_hidden</td><td>Boolean</td><td>This flag is valid for postback type button. You may want to signed your postback data by client application secrets. If you set this flag is true, Diyalog client sdk will signed postback by calling your application extension that has signData method.</td><td>Optional</td></tr><tr><td>payload</td><td>String</td><td>Payload data that you want to turn back to your application. This will only return, if button type is postback. In web url you can set it to empty string.</td><td>yes</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="22-button-template-reference"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#22-button-template-reference" title="Direct link to heading">#</a>2.2 Button Template Reference</h3><img alt="" src="/img/messagingAPI/buttontemplate.png" height="150px"><p>The button template allows you to send a structured message that includes text and buttons.</p><p>The button template sends a text message with up to three attached buttons. This template is useful for offering the message recipient options to choose from, such as pre-determined responses to a question, or actions to take.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="request-uri-1"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#request-uri-1" title="Direct link to heading">#</a>Request URI</h5><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-undefined codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">https://&lt;DIYALOG-SERVER-API-ENDPOINT&gt;/v1/bots/sendmessage/&lt;YOUR-BOT-ACCESS-TOKEN&gt;</span></div></code></pre></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="example-request-1"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#example-request-1" title="Direct link to heading">#</a>Example Request</h5><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-bash codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> -X POST -H </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Content-Type: application/json&quot;</span><span class="token plain"> -d </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    &quot;recipient&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">     &quot;appCustomerId&quot;: &quot;1231231&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    &quot;message&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">     &quot;attachment&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">       &quot;type&quot;: &quot;template&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">       &quot;payload&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">         &quot;template_type&quot;: &quot;button&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">         &quot;text&quot; : &quot;How can I help you?&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">         &quot;buttons&quot; : [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">            {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                &quot;type&quot; :&quot;web_url&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                &quot;title&quot; : &quot;Send Me Receipt&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                &quot;payload&quot; : &quot;https://diyalog.im/sendreceipt&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">            },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">            {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                &quot;type&quot; :&quot;postback&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                &quot;title&quot; : &quot;New Transaction&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                &quot;payload&quot; : &quot;start_new_tx&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">        ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">        &quot;elements&quot; : []</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">       }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">     },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">     &quot;quick_replies&quot; : []</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    }&#x27;</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://&lt;DIYALOG-SERVER-API-ENDPOINT&gt;/v1/bots/sendmessage/&lt;YOUR-BOT-ACCESS-TOKEN&gt;&quot;</span></div></code></pre></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="example-response-1"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#example-response-1" title="Direct link to heading">#</a>Example Response</h5><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-json codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token property">&quot;recipient_id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2074022437&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token property">&quot;message_id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;-7523925115459309081&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="recipient-2"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#recipient-2" title="Direct link to heading">#</a><em>recipient</em></h5><p>It declares the recipient of the message. Request must include one of <em>id</em>, <em>appCustomerId</em></p><table><thead><tr><th>Property</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>It is id of user in Diyalog platform. If you know it, you can directly use Diyalog user id.</td><td>Optional</td></tr><tr><td>appCustomerId</td><td>String</td><td>You can use direct customer id of your system. But Diyalog seesion should be created with this customer id. If you are using Token base authentication of DiyalogSDK in your client application, system will create user and save the customer id.</td><td>Optional</td></tr></tbody></table><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="message-2"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#message-2" title="Direct link to heading">#</a><em>message</em></h5><table><thead><tr><th>Property</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>attachment</td><td>Object</td><td>It contains payload od the button template content</td><td>yes</td></tr><tr><td>quick_replies</td><td>Array&lt;quick_reply&gt;</td><td>This property will not used in generic template. It should be set empty array. []</td><td>yes</td></tr></tbody></table><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="messageattachment-1"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#messageattachment-1" title="Direct link to heading">#</a><em>message.attachment</em></h5><table><thead><tr><th>Property</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>type</td><td>String</td><td>Value must be <strong>template</strong></td><td>yes</td></tr><tr><td>payload</td><td>Object</td><td>Payload of the generic template</td><td>yes</td></tr></tbody></table><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="messageattachmentpayload-1"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#messageattachmentpayload-1" title="Direct link to heading">#</a><em>message.attachment.payload</em></h5><table><thead><tr><th>Property</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>template_type</td><td>String</td><td>Value must be <strong>button</strong></td><td>yes</td></tr><tr><td>text</td><td>String</td><td>Message text that will show on top of the template</td><td>yes</td></tr><tr><td>buttons</td><td>Array&lt;<a href="#button">button</a>&gt;</td><td>You can add buttons to your buton template message by adding button property to buttons array</td><td>yes</td></tr><tr><td>elements</td><td>Array&lt;<a href="#messageattachmentpayloadelements">element</a>&gt;</td><td>This property will not used in generic template. It should be set empty array. []</td><td>yes</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="23-quick-reply-template-reference"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#23-quick-reply-template-reference" title="Direct link to heading">#</a>2.3 Quick Reply Template Reference</h3><img alt="" src="/img/messagingAPI/quickreply.png" height="120px"><p>Quick replies provide a way to present a set of up to 11 buttons in-conversation that contain a title and optional image, and appear prominently above the composer.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="request-uri-2"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#request-uri-2" title="Direct link to heading">#</a>Request URI</h5><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-undefined codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">https://&lt;DIYALOG-SERVER-API-ENDPOINT&gt;/v1/bots/sendmessage/&lt;YOUR-BOT-ACCESS-TOKEN&gt;</span></div></code></pre></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="example-request-2"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#example-request-2" title="Direct link to heading">#</a>Example Request</h5><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-bash codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> -X POST -H </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Content-Type: application/json&quot;</span><span class="token plain"> -d </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    &quot;recipient&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">     &quot;appCustomerId&quot;: &quot;1231232&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    &quot;message&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    &quot;text&quot; : &quot;Do you want to continue?&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">     &quot;quick_replies&quot; : [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">            &quot;content_type&quot; : &quot;text&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">            &quot;title&quot; : &quot;Yes&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">            &quot;payload&quot; : &quot;yes&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">            &quot;image_url&quot; : &quot;https://diyalog.im/app/testmessage/testimages/quickreplytemplate-yes.png&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">        },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">            &quot;content_type&quot; : &quot;text&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">            &quot;title&quot; : &quot;No&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">            &quot;payload&quot; : &quot;no&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">            &quot;image_url&quot; : &quot;https://diyalog.im/app/testmessage/testimages/quickreplytemplate-no.png&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">     ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">}&#x27;</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://&lt;DIYALOG-SERVER-API-ENDPOINT&gt;/v1/bots/sendmessage/&lt;YOUR-BOT-ACCESS-TOKEN&gt;&quot;</span></div></code></pre></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="example-response-2"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#example-response-2" title="Direct link to heading">#</a>Example Response</h5><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-json codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token property">&quot;recipient_id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2074022437&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token property">&quot;message_id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;-7523925115459309081&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></code></pre></div><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="recipient-3"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#recipient-3" title="Direct link to heading">#</a><em>recipient</em></h5><p>It declares the recipient of the message. Request must include one of <em>id</em>, <em>appCustomerId</em></p><table><thead><tr><th>Property</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>It is id of user in Diyalog platform. If you know it, you can directly use Diyalog user id.</td><td>Optional</td></tr><tr><td>appCustomerId</td><td>String</td><td>You can use direct customer id of your system. But Diyalog seesion should be created with this customer id. If you are using Token base authentication of DiyalogSDK in your client application, system will create user and save the customer id.</td><td>Optional</td></tr></tbody></table><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="message-3"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#message-3" title="Direct link to heading">#</a><em>message</em></h5><table><thead><tr><th>Property</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>text</td><td>String</td><td>Message text that will show on top of the template</td><td>yes</td></tr><tr><td>quick_replies</td><td>Array&lt;<a href="#quick_reply">quick_reply</a>&gt;</td><td>Array of quick reply definitions.</td><td>yes</td></tr></tbody></table><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="quick_reply"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#quick_reply" title="Direct link to heading">#</a><em>quick_reply</em></h5><table><thead><tr><th>Property</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>content_type</td><td>String</td><td>Value must be <strong>text</strong></td><td>yes</td></tr><tr><td>title</td><td>String</td><td>Quick reply button label</td><td>yes</td></tr><tr><td>payload</td><td>String</td><td>It is payload that will return to your application when pressed button</td><td>yes</td></tr><tr><td>image_url</td><td>String</td><td>If you want to add icon to your quick reply button, you can set icon url</td><td>Optional</td></tr></tbody></table><h2></h2><p align="center">Made with :heart: by Ayya Co Ltd.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#uri-formatı" class="contents__link">URI Formatı</a></li><li><a href="#sendmessage-api" class="contents__link">sendmessage API</a><ul><li><a href="#request" class="contents__link">Request</a></li><li><a href="#response" class="contents__link">Response</a></li><li><a href="#recipient" class="contents__link">recipient</a></li><li><a href="#message" class="contents__link">message</a></li><li><a href="#quickreply-deprecated" class="contents__link">quickReply (deprecated)</a></li><li><a href="#quickreplyv2" class="contents__link">quickReplyV2</a></li><li><a href="#attachment" class="contents__link">attachment</a></li><li><a href="#payload" class="contents__link">payload</a></li><li><a href="#button-deprecated" class="contents__link">button (Deprecated)</a></li><li><a href="#buttonv2" class="contents__link">buttonV2</a></li><li><a href="#element" class="contents__link">element</a></li></ul></li><li><a href="#sendmessage-api-1" class="contents__link">sendmessage API</a><ul><li><a href="#request-1" class="contents__link">Request</a></li></ul></li><li><a href="#şablon-mesajlar" class="contents__link">Şablon Mesajlar</a><ul><li><a href="#generic" class="contents__link">Generic</a></li><li><a href="#22-button-template-reference" class="contents__link">2.2 Button Template Reference</a></li><li><a href="#23-quick-reply-template-reference" class="contents__link">2.3 Quick Reply Template Reference</a></li></ul></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Learn</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/overview">Docs</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/diyalog-im/diyalog-platform" target="_blank" href="https://github.com/diyalog-im/diyalog-platform">GitHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Company</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/aboutus">About Us</a></li><li class="footer__item"><a class="footer__link-item" href="/contactus">Contact Us</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/privacy">Privacy and Terms</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Downloads</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://play.google.com/store/apps/details?id=im.diyalog.diyalogapp" target="_blank" href="https://play.google.com/store/apps/details?id=im.diyalog.diyalogapp">Android</a></li><li class="footer__item"><a class="footer__link-item" to="https://apps.apple.com/us/app/dlg-messenger/id1449572267?ls=1" target="_blank" href="https://apps.apple.com/us/app/dlg-messenger/id1449572267?ls=1">iPhone</a></li><li class="footer__item"><a class="footer__link-item" to="https://web.dlgmessenger.com" target="_blank" href="https://web.dlgmessenger.com">Web App</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 Diyalog - All Rights Reserved</div></div></div></footer>
</div>

<script src="/styles.74035797.js"></script>

<script src="/runtime~main.cc38280f.js"></script>

<script src="/main.81b9134c.js"></script>

<script src="/common.271438c5.js"></script>

<script src="/2.0568e45b.js"></script>

<script src="/3.d7b193a1.js"></script>

<script src="/1be78505.61f3ef3a.js"></script>

<script src="/20ac7829.d0e01c02.js"></script>

<script src="/17896441.346027b7.js"></script>

<script src="/533d8a8b.1ae653e2.js"></script>


</body>
</html>