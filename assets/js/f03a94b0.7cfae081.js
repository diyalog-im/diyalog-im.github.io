(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{156:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return l})),n.d(t,"Highlight",(function(){return b})),n.d(t,"HighlightWithBlack",(function(){return c})),n.d(t,"HighlightWithRed",(function(){return d})),n.d(t,"ColoredText",(function(){return u})),n.d(t,"CenteredText",(function(){return s})),n.d(t,"GreenColoredText",(function(){return p})),n.d(t,"BlueColoredText",(function(){return h})),n.d(t,"SmallText",(function(){return m})),n.d(t,"toc",(function(){return O})),n.d(t,"default",(function(){return j}));var r=n(3),a=n(7),i=(n(0),n(164)),o=(n(165),{id:"diyalog-application-api-finishonlinehelp",title:"finishonlinehelp",sidebar_label:"finishonlinehelp"}),l={unversionedId:"diyalog-application-api-finishonlinehelp",id:"diyalog-application-api-finishonlinehelp",isDocsHomePage:!1,title:"finishonlinehelp",description:"<span",source:"@site/../docs/diyalog-application-api-interactionisnotdelivered.md",slug:"/diyalog-application-api-finishonlinehelp",permalink:"/docs/diyalog-application-api-finishonlinehelp",version:"current",sidebar_label:"finishonlinehelp",sidebar:"docs",previous:{title:"interactionisnotdelivered",permalink:"/docs/diyalog-application-api-interactionisnotdelivered"},next:{title:"Overview",permalink:"/docs/diyalog-reporting-api-overview"}},b=function(e){var t=e.children,n=e.color;return Object(i.b)("span",{style:{backgroundColor:n,borderRadius:"2px",color:"#fff",padding:"0.2rem"}},t)},c=function(e){var t=e.children,n=e.color;return Object(i.b)("span",{style:{backgroundColor:n,borderRadius:"2px",padding:"0.2rem"}},t)},d=function(e){var t=e.children,n=e.color;return Object(i.b)("span",{style:{color:"#d60b0b",backgroundColor:n,borderRadius:"2px",padding:"0.2rem"}},t)},u=function(e){var t=e.children,n=e.color;return Object(i.b)("span",{style:{color:n}},t)},s=function(e){var t=e.children;return Object(i.b)("span",{style:{align:"center"}},t)},p=function(e){var t=e.children;return Object(i.b)("span",{style:{color:"#42b72a"}},t)},h=function(e){var t=e.children;return Object(i.b)("span",{style:{color:"#1877F2"}},t)},m=function(e){var t=e.children;return Object(i.b)("span",{style:{fontSize:"smaller"}},t)},O=[{value:"<BlueColoredText>POST</BlueColoredText> v1/application/finishonlinehelps",id:"post-v1applicationfinishonlinehelps",children:[]},{value:"Request Body",id:"request-body",children:[]},{value:"Responses",id:"responses",children:[]}],f={Highlight:b,HighlightWithBlack:c,HighlightWithRed:d,ColoredText:u,CenteredText:s,GreenColoredText:p,BlueColoredText:h,SmallText:m,toc:O};function j(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},f,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h3",{id:"post-v1applicationfinishonlinehelps"},Object(i.b)(h,{mdxType:"BlueColoredText"},"POST")," v1/application/finishonlinehelps"),Object(i.b)("p",null,"You can terminate online help conversation between your customer and your agent via this API. Under normal circumstances, this should not be done remotely. This API has been added in case the application on the agent side closes due to an error and the conversation with the customer cannot be closed. It should only be used in cases where there is such a problem."),Object(i.b)("p",null,"API requests"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Must be authenticated with HMAC Authentication. For HMAC Authentication, see the ",Object(i.b)("a",{parentName:"li",href:"dialog-api-authentication.md"},"Authentication")," document."),Object(i.b)("li",{parentName:"ul"},"API URI : ",Object(i.b)(d,{color:"#f2f2f2",mdxType:"HighlightWithRed"},"https://DIYALOG-SERVER-API-ENDPOINT/v1/application/finishonlinehelp")),Object(i.b)("li",{parentName:"ul"},"HTTP Request Type ",Object(i.b)(d,{color:"#f2f2f2",mdxType:"HighlightWithRed"},"POST")),Object(i.b)("li",{parentName:"ul"},"HTTP Content-Type ",Object(i.b)(d,{color:"#f2f2f2",mdxType:"HighlightWithRed"},"application/json"))),Object(i.b)("h3",{id:"request-body"},"Request Body"),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",{parentName:"tr",align:"left"},"Schema"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)(p,{mdxType:"GreenColoredText"},"json object"))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)(m,{mdxType:"SmallText"},Object(i.b)(h,{mdxType:"BlueColoredText"},"customerId")," ",Object(i.b)(p,{mdxType:"GreenColoredText"},"(String)")," ",Object(i.b)("br",null),"Customer number of the peer that gets online help"))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)(m,{mdxType:"SmallText"},Object(i.b)(h,{mdxType:"BlueColoredText"},"staffId")," ",Object(i.b)(p,{mdxType:"GreenColoredText"},"(String)")," ",Object(i.b)("br",null),"Agent user id of the online support peer"))))),Object(i.b)("h4",{id:"\xf6rnek-json-request-body-"},"\xd6rnek Json Request Body :"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-json"},'{\n    "customerId" : "123456",\n    "staffId" : "45186"\n}\n')),Object(i.b)("h3",{id:"responses"},"Responses"),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",{parentName:"tr",align:"left"},Object(i.b)(h,{mdxType:"BlueColoredText"},"HTTP 200 Response")))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)(p,{mdxType:"GreenColoredText"},"json object")," ",Object(i.b)("br",null)," ",Object(i.b)(m,{mdxType:"SmallText"},"The API returns a json object as a response. You can get detailed information about the API result from this answer."))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"left"},"\xa0","\xa0","\xa0","\xa0","\xa0",Object(i.b)(m,{mdxType:"SmallText"},Object(i.b)(h,{mdxType:"BlueColoredText"},"isSuccess")," ",Object(i.b)(p,{mdxType:"GreenColoredText"},"(boolean)")," ",Object(i.b)("br",null),"\xa0","\xa0","\xa0","\xa0","\xa0"," this field returns information about whether the API was successful or not.",Object(i.b)("br",null)," ","\xa0","\xa0","\xa0","\xa0","\xa0"," True indicates that the API is running successfully and processing your request ",Object(i.b)("br",null)," ","\xa0","\xa0","\xa0","\xa0","\xa0"," False indicates that an error occurred. "))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"left"},"\xa0","\xa0","\xa0","\xa0","\xa0",Object(i.b)(m,{mdxType:"SmallText"},Object(i.b)(h,{mdxType:"BlueColoredText"},"message")," ",Object(i.b)(p,{mdxType:"GreenColoredText"},"(string)")," ",Object(i.b)("br",null),"\xa0","\xa0","\xa0","\xa0","\xa0","An information message is returned regarding the result of the operation."))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"left"},"\xa0","\xa0","\xa0","\xa0","\xa0",Object(i.b)(m,{mdxType:"SmallText"},Object(i.b)(h,{mdxType:"BlueColoredText"},"errorCode")," ",Object(i.b)(p,{mdxType:"GreenColoredText"},"(int)")," ",Object(i.b)("br",null),"\xa0","\xa0","\xa0","\xa0","\xa0","Optional. ",Object(i.b)("br",null),"\xa0","\xa0","\xa0","\xa0","\xa0"," Error code of the result. It s optional. If isSucces return true, this field will not return.",Object(i.b)("br",null),"\xa0","\xa0","\xa0","\xa0","\xa0"," Return Codes : ",Object(i.b)("br",null),"\xa0","\xa0","\xa0","\xa0","\xa0","\xa0","\xa0","\xa0","\xa0","\xa0","400 : No conversation found between peers."))))),Object(i.b)("h4",{id:"\xf6rnek-response-body-"},"\xd6rnek Response Body :"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-json"},'{\n    "isSuccess": true,\n    "message": "Conversation will be stop with peers."\n}\n')),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",{parentName:"tr",align:"left"},Object(i.b)(d,{mdxType:"HighlightWithRed"},"HTTP 500 Response")))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)(p,{mdxType:"GreenColoredText"},"string")," ",Object(i.b)("br",null)," ",Object(i.b)(m,{mdxType:"SmallText"},"When the API receives an exception, it will return a response with the HTTP 500 status code. The API's error message is returned as text."))))),Object(i.b)("h4",{id:"if-the-api-request-receives-an-error-during-hmac-validation-the-following-error-codes-are-returned"},"If the API request receives an error during HMAC validation, the following error codes are returned."),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",{parentName:"tr",align:null},"Http Status Code"),Object(i.b)("th",{parentName:"tr",align:null},"Mesaj"),Object(i.b)("th",{parentName:"tr",align:null},"A\xe7\u0131klama"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)(d,{mdxType:"HighlightWithRed"},"400")),Object(i.b)("td",{parentName:"tr",align:null},"Required headers not found"),Object(i.b)("td",{parentName:"tr",align:null},"One or more of the Date, X-Requester-UserId, or X-Authorization header fields are missing.")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)(d,{mdxType:"HighlightWithRed"},"400")),Object(i.b)("td",{parentName:"tr",align:null},"Authorization failed due to data format not valid"),Object(i.b)("td",{parentName:"tr",align:null},'The information in the X-Authorization header field is not in the correct format. Check that the field starts with "DLGA" and includes : between the accesKeyId and signature values.')),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)(d,{mdxType:"HighlightWithRed"},"400")),Object(i.b)("td",{parentName:"tr",align:null},"Authorization failed due to date not valid"),Object(i.b)("td",{parentName:"tr",align:null},'X-DLG-DATE date format is not "EEE, dd MMM yyyy HH:mm:ss Z".')),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)(d,{mdxType:"HighlightWithRed"},"401")),Object(i.b)("td",{parentName:"tr",align:null},"Authorization failed"),Object(i.b)("td",{parentName:"tr",align:null},"The request could not be verified. The signature value is not correct.")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)(d,{mdxType:"HighlightWithRed"},"403")),Object(i.b)("td",{parentName:"tr",align:null},"Request time may not be correct."),Object(i.b)("td",{parentName:"tr",align:null},"There is a difference of more than +/- 15 minutes between the x-dlg-date in the request header and the server time.")))))}j.isMDXComponent=!0},164:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var r=n(0),a=n.n(r);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=a.a.createContext({}),d=function(e){var t=a.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=d(e.components);return a.a.createElement(c.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},p=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,c=b(e,["components","mdxType","originalType","parentName"]),u=d(n),p=r,h=u["".concat(o,".").concat(p)]||u[p]||s[p]||i;return n?a.a.createElement(h,l(l({ref:t},c),{},{components:n})):a.a.createElement(h,l({ref:t},c))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=p;var l={};for(var b in t)hasOwnProperty.call(t,b)&&(l[b]=t[b]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return a.a.createElement.apply(null,o)}return a.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},165:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(16),a=n(166);function i(){const{siteConfig:{baseUrl:e="/",url:t}={}}=Object(r.default)();return{withBaseUrl:(n,r)=>function(e,t,n,{forcePrependBaseUrl:r=!1,absolute:i=!1}={}){if(!n)return n;if(n.startsWith("#"))return n;if(Object(a.b)(n))return n;if(r)return t+n;const o=n.startsWith(t)?n:t+n.replace(/^\//,"");return i?e+o:o}(t,e,n,r)}}function o(e,t={}){const{withBaseUrl:n}=i();return n(e,t)}},166:function(e,t,n){"use strict";function r(e){return!0===/^(\w*:|\/\/)/.test(e)}function a(e){return void 0!==e&&!r(e)}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}))}}]);