(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{122:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return c})),n.d(t,"Highlight",(function(){return s})),n.d(t,"HighlightWithBlack",(function(){return b})),n.d(t,"ColoredText",(function(){return u})),n.d(t,"CenteredText",(function(){return p})),n.d(t,"GreenColoredText",(function(){return d})),n.d(t,"BlueColoredText",(function(){return m})),n.d(t,"toc",(function(){return g})),n.d(t,"default",(function(){return O}));var r=n(3),a=n(7),l=(n(0),n(149)),i=n(150),o={id:"diyalog-messaging-api-quickreplies",title:"Quick Replies Template",sidebar_label:"Quick Replies Template"},c={unversionedId:"diyalog-messaging-api-quickreplies",id:"diyalog-messaging-api-quickreplies",isDocsHomePage:!1,title:"Quick Replies Template",description:"<span",source:"@site/../docs/diyalog-messaging-api-quickreplies.md",slug:"/diyalog-messaging-api-quickreplies",permalink:"/docs/diyalog-messaging-api-quickreplies",version:"current",sidebar_label:"Quick Replies Template",sidebar:"docs",previous:{title:"Text Message",permalink:"/docs/diyalog-messaging-api-textmessage"},next:{title:"Generic Template Message",permalink:"/docs/diyalog-messaging-api-generictemplate"}},s=function(e){var t=e.children,n=e.color;return Object(l.b)("span",{style:{backgroundColor:n,borderRadius:"2px",color:"#fff",padding:"0.2rem"}},t)},b=function(e){var t=e.children,n=e.color;return Object(l.b)("span",{style:{backgroundColor:n,borderRadius:"2px",padding:"0.2rem"}},t)},u=function(e){var t=e.children,n=e.color;return Object(l.b)("span",{style:{color:n}},t)},p=function(e){var t=e.children;return Object(l.b)("span",{style:{align:"center"}},t)},d=function(e){var t=e.children;return Object(l.b)("span",{style:{color:"#42b72a"}},t)},m=function(e){var t=e.children;return Object(l.b)("span",{style:{color:"#1877F2"}},t)},g=[{value:"Request URI",id:"request-uri",children:[]},{value:"Request Details",id:"request-details",children:[{value:"<GreenColoredText>recipient</GreenColoredText>",id:"recipient",children:[]},{value:"<GreenColoredText>message</GreenColoredText>",id:"message",children:[]},{value:"<GreenColoredText>quickReply</GreenColoredText>",id:"quickreply",children:[]},{value:"<GreenColoredText>quickReplyV2</GreenColoredText>",id:"quickreplyv2",children:[]}]},{value:"Response",id:"response",children:[]}],y={Highlight:s,HighlightWithBlack:b,ColoredText:u,CenteredText:p,GreenColoredText:d,BlueColoredText:m,toc:g};function O(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(l.b)("wrapper",Object(r.a)({},y,n,{components:t,mdxType:"MDXLayout"}),Object(l.b)("p",null,"Quick replies provide a way to present a set of up to 11 buttons in-conversation that contain a title and optional image, and appear prominently above the composer."),Object(l.b)("img",{alt:"",src:Object(i.a)("img/messagingAPI/quickreply.png"),height:"120px"}),Object(l.b)("h2",{id:"request-uri"},"Request URI"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"https://<DIYALOG-SERVER-API-ENDPOINT>/v1/bots/sendmessage/<YOUR-BOT-ACCESS-TOKEN>\n")),Object(l.b)("h4",{id:"example-request"},"Example Request"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-powershell"},'curl -X POST -H "Content-Type: application/json" -d \'{\n    "recipient": {\n     "appCustomerId": "1231232"\n    },\n    "message": {\n        "messageId": "messageId-1",\n        "text" : "Do you want to continue?",\n        "quickReplies" : [],\n        "quickRepliesV2" : [\n            {\n                "contentType" : "text",\n                "title" : "Yes",\n                "payload" : "yes",\n                "payloadHidden" : false,\n                "payloadSeenByUser" :"Yes I want to contunue",\n                "imageUrl" : "https://diyalog.im/app/testmessage/testimages/quickreplytemplate-yes.png"\n            },\n            {\n                "contentType" : "text",\n                "title" : "Yes",\n                "payload" : "yes",\n                "payloadHidden" : false,\n                "payloadSeenByUser" :"No I dont",\n                "imageUrl" : "https://diyalog.im/app/testmessage/testimages/quickreplytemplate-no.png"\n            }\n        ]\n    }\n}\' "https://<DIYALOG-SERVER-API-ENDPOINT>/v1/bots/sendmessage/<YOUR-BOT-ACCESS-TOKEN>"\n')),Object(l.b)("h2",{id:"request-details"},"Request Details"),Object(l.b)("h3",{id:"recipient"},Object(l.b)(d,{mdxType:"GreenColoredText"},"recipient")),Object(l.b)("p",null,"You can pass the user information you want to send the message to api in the ",Object(l.b)(d,{mdxType:"GreenColoredText"},"recipient")," object."),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Property"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Mandatory"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)(d,{mdxType:"GreenColoredText"},"appCustomerId")),Object(l.b)("td",{parentName:"tr",align:null},"String"),Object(l.b)("td",{parentName:"tr",align:null},"Customer id in your system"),Object(l.b)("td",{parentName:"tr",align:null},"Optional")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)(d,{mdxType:"GreenColoredText"},"appStaffId")),Object(l.b)("td",{parentName:"tr",align:null},"String"),Object(l.b)("td",{parentName:"tr",align:null},"Your staff id."),Object(l.b)("td",{parentName:"tr",align:null},"Optional")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)(d,{mdxType:"GreenColoredText"},"id")),Object(l.b)("td",{parentName:"tr",align:null},"String"),Object(l.b)("td",{parentName:"tr",align:null},"Unique DLG user id."),Object(l.b)("td",{parentName:"tr",align:null},"Optional")))),Object(l.b)("p",null,"You can pass the the user information that will receive your message with this object.\nYour request should only have one of the properties that ",Object(l.b)(d,{mdxType:"GreenColoredText"},"appCustomerId"),", ",Object(l.b)(d,{mdxType:"GreenColoredText"},"appStaffId")," or ",Object(l.b)(d,{mdxType:"GreenColoredText"},"id"),"."),Object(l.b)("p",null,"There are two unique id for a single user in the DLG platform One of them is DLG user id.\nThis id is created randomly when user registering to the system.\nBesides of this id,  according to the user type, one of the customer id or staff id are stored for the user in DLG."),Object(l.b)("p",null,"As a result, you can use one of the customer id or staff id and DLG id in order to send message."),Object(l.b)("p",null,"If you know the DLG user id, you can use it for customor or staff."),Object(l.b)("p",null,"Using customer id and staff id is more applicable than using DLG user id. Because if you want to use DLG id, you should store all DLG user ids in your system."),Object(l.b)("h3",{id:"message"},Object(l.b)(d,{mdxType:"GreenColoredText"},"message")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Property"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Mandatory"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"messageId"),Object(l.b)("td",{parentName:"tr",align:null},"String"),Object(l.b)("td",{parentName:"tr",align:null},"This is a unique id of your message. You should create it in your system and send it to api. If you don't create and sent it to api DLG will create it for you and send it to you in the response of your request. DLG platfrom will feed the events of the messages to your system by this id. You can use it to differenciate events by this id. Therefore, this id is important for following all events of your message by your system."),Object(l.b)("td",{parentName:"tr",align:null},"Optional")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"text"),Object(l.b)("td",{parentName:"tr",align:null},"String"),Object(l.b)("td",{parentName:"tr",align:null},"Text that will send to your user."),Object(l.b)("td",{parentName:"tr",align:null},"Yes")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"quickReplies"),Object(l.b)("td",{parentName:"tr",align:null},"Array<",Object(l.b)("a",{parentName:"td",href:"#greencoloredtextquickreplygreencoloredtext"},"quickReply"),">"),Object(l.b)("td",{parentName:"tr",align:null},"This field is the old version, but since it is mandatory, it should be added to all requests as empty array like ",Object(l.b)("strong",{parentName:"td"},'"quickReplies": []')," ."),Object(l.b)("td",{parentName:"tr",align:null},"Yes")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"quickRepliesV2"),Object(l.b)("td",{parentName:"tr",align:null},"Array<",Object(l.b)("a",{parentName:"td",href:"#greencoloredtextquickreplyv2greencoloredtext"},"quickReplyV2"),">"),Object(l.b)("td",{parentName:"tr",align:null},"The array of quick reply buttons. You should add ",Object(l.b)("a",{parentName:"td",href:"#greencoloredtextquickreplyv2greencoloredtext"},"quickReplyV2")," object for each quick reply button that you want to add."),Object(l.b)("td",{parentName:"tr",align:null},"Yes")))),Object(l.b)("h3",{id:"quickreply"},Object(l.b)(d,{mdxType:"GreenColoredText"},"quickReply")),Object(l.b)("p",null,"This is the old version of the quick reply button object. It has to be set as empty array (",Object(l.b)("strong",{parentName:"p"},'"quickReplies" : []'),"). "),Object(l.b)("h3",{id:"quickreplyv2"},Object(l.b)(d,{mdxType:"GreenColoredText"},"quickReplyV2")),Object(l.b)("p",null,"This is the new version of quick reply button object. It defines the quick reply button properties and behavior. "),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Property"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Mandatory"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"contentType"),Object(l.b)("td",{parentName:"tr",align:null},"String"),Object(l.b)("td",{parentName:"tr",align:null},"This property should be set as ",Object(l.b)("strong",{parentName:"td"},'"text"'),"."),Object(l.b)("td",{parentName:"tr",align:null},"Yes")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"title"),Object(l.b)("td",{parentName:"tr",align:null},"String"),Object(l.b)("td",{parentName:"tr",align:null},"It is the title of the button."),Object(l.b)("td",{parentName:"tr",align:null},"Yes")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"payload"),Object(l.b)("td",{parentName:"tr",align:null},"String"),Object(l.b)("td",{parentName:"tr",align:null},"The value of this property will turn bact to your application when pressed this button by user."),Object(l.b)("td",{parentName:"tr",align:null},"Yes")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"payloadHidden"),Object(l.b)("td",{parentName:"tr",align:null},"Boolean"),Object(l.b)("td",{parentName:"tr",align:null},"The value of this field can be ",Object(l.b)("strong",{parentName:"td"},"true")," or ",Object(l.b)("strong",{parentName:"td"},"false"),". The default value of it is false. If it set as true, value of the payload will be signed in the user's mobile device by the key of your company before turn back to you. By this way you can be sure about the valid user pressed the button. For checking the signed payload is true or not, you should know the keys that used in signing payload in the mobile device."),Object(l.b)("td",{parentName:"tr",align:null},"Optional")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"payloadSeenByUser"),Object(l.b)("td",{parentName:"tr",align:null},"String"),Object(l.b)("td",{parentName:"tr",align:null},"The value of this property will be displayed in the chat screen of the user when pressed the button. If it does not set, the value of the payload will be displayed in the chat screen."),Object(l.b)("td",{parentName:"tr",align:null},"Optional")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"imageUrl"),Object(l.b)("td",{parentName:"tr",align:null},"String"),Object(l.b)("td",{parentName:"tr",align:null},"You can set icon image to the button by setting this property. You can set uri address of the button of the icon to it."),Object(l.b)("td",{parentName:"tr",align:null},"Optional")))),Object(l.b)("h2",{id:"response"},"Response"),Object(l.b)("p",null,"Successful API requests return the json object with the answer code  ",Object(l.b)("strong",{parentName:"p"},"http-2XX"),".  "),Object(l.b)("p",null,"Sample response"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-json"},'{\n   "recipient_id": "2074022437",\n   "message_id": "-7523925115459309081"\n}\n')))}O.isMDXComponent=!0},149:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var r=n(0),a=n.n(r);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=a.a.createContext({}),b=function(e){var t=a.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=b(e.components);return a.a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},d=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,i=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),u=b(n),d=r,m=u["".concat(i,".").concat(d)]||u[d]||p[d]||l;return n?a.a.createElement(m,o(o({ref:t},s),{},{components:n})):a.a.createElement(m,o({ref:t},s))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=d;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var s=2;s<l;s++)i[s]=n[s];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},150:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return i}));var r=n(16),a=n(151);function l(){const{siteConfig:{baseUrl:e="/",url:t}={}}=Object(r.default)();return{withBaseUrl:(n,r)=>function(e,t,n,{forcePrependBaseUrl:r=!1,absolute:l=!1}={}){if(!n)return n;if(n.startsWith("#"))return n;if(Object(a.b)(n))return n;if(r)return t+n;const i=n.startsWith(t)?n:t+n.replace(/^\//,"");return l?e+i:i}(t,e,n,r)}}function i(e,t={}){const{withBaseUrl:n}=l();return n(e,t)}},151:function(e,t,n){"use strict";function r(e){return!0===/^(\w*:|\/\/)/.test(e)}function a(e){return void 0!==e&&!r(e)}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}))}}]);